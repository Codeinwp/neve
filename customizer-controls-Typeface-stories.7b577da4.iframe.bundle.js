"use strict";(self.webpackChunkneve=self.webpackChunkneve||[]).push([[61],{"./stories/customizer-controls/Typeface.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,EmptyStart:()=>EmptyStart,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Typeface_stories});var react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),components=__webpack_require__("./assets/apps/components/src/components.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Typeface=props=>{const[currentDevice,setCurrentDevice]=(0,react.useState)("desktop"),{label,fontFamilyControl,withTextTransform=!0,value={fontSize:{suffix:{mobile:"px",tablet:"px",desktop:"px"},mobile:"",tablet:"",desktop:""},lineHeight:{suffix:{mobile:"em",tablet:"em",desktop:"em"},mobile:"",tablet:"",desktop:""},letterSpacing:{mobile:"",tablet:"",desktop:""},fontWeight:"none",textTransform:"none"},onChange,refreshAfterReset=!1,fSUnit=["em","px"],lHunit=["em","px","—"],defaultFS={suffix:{mobile:"px",tablet:"px",desktop:"px"},mobile:"",tablet:"",desktop:""},defaultLH={suffix:{mobile:"em",tablet:"em",desktop:"em"},mobile:"",tablet:"",desktop:""},defaultLS={mobile:"",tablet:"",desktop:""}}=props,[fontFamily,setFontFamily]=(0,react.useState)(wp.customize.control(fontFamilyControl)?wp.customize.control(fontFamilyControl).setting():"");(0,react.useEffect)((()=>{window.wp.customize.bind("change",(setting=>{setting.id===fontFamilyControl&&setFontFamily(setting.get())}))}),[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[label&&(0,jsx_runtime.jsx)("span",{className:"customize-control-title",children:label}),(0,jsx_runtime.jsxs)("div",{className:"neve-typeface-control neve-white-background-control",children:[(()=>{let{fontSize}=value;return fontSize||(fontSize={...defaultFS}),(0,jsx_runtime.jsx)(components.XT,{className:"font-size",label:(0,build_module.__)("Font Size","neve"),default:defaultFS[currentDevice],value:fontSize[currentDevice],step:["em","rem"].includes(fontSize.suffix[currentDevice])?.1:1,units:fSUnit,activeUnit:fontSize.suffix[currentDevice],hasResponsive:!0,onChange:val=>{const nextVal=fontSize;nextVal[currentDevice]=val,onChange({fontSize:nextVal})},onUnitChange:val=>{const nextVal=fontSize;nextVal.suffix[currentDevice]=val,onChange({fontSize:nextVal})},onReset:()=>{onChange({fontSize:defaultFS}),refreshAfterReset&&wp.customize.previewer.refresh()},onChangedDevice:setCurrentDevice})})(),(()=>{let{lineHeight}=value;lineHeight||(lineHeight={...defaultLH});return(0,jsx_runtime.jsx)(components.XT,{className:"line-height",label:(0,build_module.__)("Line Height","neve"),step:["em","—"].includes(lineHeight.suffix[currentDevice])?.1:1,default:defaultLH[currentDevice],value:lineHeight[currentDevice],units:lHunit,activeUnit:lineHeight.suffix[currentDevice],max:"em"===lineHeight.suffix[currentDevice]?4:200,min:"em"===lineHeight.suffix[currentDevice]?.5:1,hasResponsive:!0,onChange:val=>{const nextVal=lineHeight;nextVal[currentDevice]=val,onChange({lineHeight:nextVal})},onReset:()=>{onChange({lineHeight:defaultLH}),refreshAfterReset&&wp.customize.previewer.refresh()},onUnitChange:val=>{const nextVal=lineHeight;nextVal.suffix[currentDevice]=val,onChange({lineHeight:nextVal})},onChangedDevice:setCurrentDevice})})(),(()=>{let{letterSpacing}=value;return letterSpacing||(letterSpacing={...defaultLS}),(0,jsx_runtime.jsx)(components.XT,{className:"letter-spacing",label:(0,build_module.__)("Letter Spacing","neve"),step:.1,default:defaultLS[currentDevice],value:letterSpacing&&letterSpacing[currentDevice]?letterSpacing[currentDevice]:"",max:20,min:-5,units:["px"],hasResponsive:!0,onChange:val=>{const nextVal=letterSpacing;nextVal[currentDevice]=val,onChange({letterSpacing:nextVal})},onReset:()=>{onChange({letterSpacing:defaultLS}),refreshAfterReset&&wp.customize.previewer.refresh()},onChangedDevice:setCurrentDevice})})(),(()=>{if(withTextTransform)return(0,jsx_runtime.jsx)(components.Ww,{label:(0,build_module.__)("Transform","neve"),value:value.textTransform,options:[{value:"none",label:(0,build_module.__)("None","neve")},{value:"capitalize",label:(0,build_module.__)("Capitalize","neve")},{value:"lowercase",label:(0,build_module.__)("Lowercase","neve")},{value:"uppercase",label:(0,build_module.__)("Uppercase","neve")}],onChange:textTransform=>{onChange({textTransform})}})})(),(()=>{let{fontWeight}=value;fontWeight||(fontWeight="none");const{fontVariants,systemFontVariants}=NeveReactCustomize,allFontVariants={...fontVariants,...systemFontVariants},defaultOptions=[{value:"none",label:(0,build_module.__)("None","neve")},{value:100,label:"100"},{value:200,label:"200"},{value:300,label:"300"},{value:400,label:"400"},{value:500,label:"500"},{value:600,label:"600"},{value:700,label:"700"},{value:800,label:"800"},{value:900,label:"900"}];let options;return void 0!==allFontVariants[fontFamily]&&(options=allFontVariants[fontFamily].filter((fv=>!fv.includes("italic"))).reduce(((acc,curr)=>[...acc,{value:parseInt(curr),label:curr}]),[{value:"none",label:(0,build_module.__)("None","neve")}])),(0,jsx_runtime.jsx)(components.Ww,{label:(0,build_module.__)("Weight","neve"),value:fontWeight,options:options||defaultOptions,onChange:nextValue=>{onChange({fontWeight:nextValue}),"none"===nextValue&&refreshAfterReset&&wp.customize.previewer.refresh()}})})()]})]})},typeface_Typeface=Typeface,responsiveShape={mobile:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),tablet:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),desktop:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])};Typeface.propTypes={label:prop_types_default().string,value:prop_types_default().shape({fontSize:prop_types_default().shape({suffix:prop_types_default().shape(responsiveShape),...responsiveShape}),lineHeight:prop_types_default().shape({suffix:prop_types_default().shape(responsiveShape),...responsiveShape}),letterSpacing:prop_types_default().shape(responsiveShape),fontWeight:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),textTransform:prop_types_default().string}),withTextTransform:prop_types_default().bool,refreshAfterReset:prop_types_default().bool,fSUnit:prop_types_default().array,lHunit:prop_types_default().array,onChange:prop_types_default().func.isRequired,defaultFS:prop_types_default().shape({suffix:prop_types_default().shape(responsiveShape),...responsiveShape}),defaultLH:prop_types_default().shape({suffix:prop_types_default().shape(responsiveShape),...responsiveShape}),defaultLS:prop_types_default().shape(responsiveShape)},Typeface.__docgenInfo={description:"",methods:[],displayName:"Typeface",props:{label:{description:"",type:{name:"string"},required:!1},value:{description:"",type:{name:"shape",value:{fontSize:{name:"shape",value:{suffix:{name:"shape",value:{mobile:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},tablet:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},desktop:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}},required:!1}},required:!1},lineHeight:{name:"shape",value:{suffix:{name:"shape",value:{mobile:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},tablet:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},desktop:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}},required:!1}},required:!1},letterSpacing:{name:"shape",value:{mobile:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},tablet:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},desktop:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}},required:!1},fontWeight:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},textTransform:{name:"string",required:!1}}},required:!1},withTextTransform:{description:"",type:{name:"bool"},required:!1},refreshAfterReset:{description:"",type:{name:"bool"},required:!1},fSUnit:{description:"",type:{name:"array"},required:!1},lHunit:{description:"",type:{name:"array"},required:!1},onChange:{description:"",type:{name:"func"},required:!0},defaultFS:{description:"",type:{name:"shape",value:{suffix:{name:"shape",value:{mobile:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},tablet:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},desktop:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}},required:!1}}},required:!1},defaultLH:{description:"",type:{name:"shape",value:{suffix:{name:"shape",value:{mobile:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},tablet:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},desktop:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}},required:!1}}},required:!1},defaultLS:{description:"",type:{name:"shape",value:{mobile:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},tablet:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},desktop:{name:"union",value:[{name:"string"},{name:"number"}],required:!1}}},required:!1}}};var values=__webpack_require__("./stories/utils/values.js"),decorators=__webpack_require__("./stories/components/decorators.js");const Typeface_stories={title:"Customizer/Controls/Typeface",component:typeface_Typeface,args:{label:"Typeface Label",startValue:values.wO,defaultFS:{suffix:{mobile:"px",tablet:"px",desktop:"px"},mobile:10,tablet:20,desktop:30},defaultLH:{suffix:{mobile:"em",tablet:"em",desktop:"em"},mobile:1,tablet:1.3,desktop:1.6},defaultLS:{mobile:.5,tablet:.6,desktop:.8},fontFamilyControl:""},decorators:[decorators.$,decorators.x]},Template=args=>{const[value,setValue]=(0,react.useState)(args.startValue);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(typeface_Typeface,{...args,value,onChange:nextValue=>{setValue({...value,...nextValue})}}),(0,jsx_runtime.jsxs)("div",{className:"value-previewer",children:[(0,jsx_runtime.jsx)("strong",{children:"Value:"}),(0,jsx_runtime.jsx)("pre",{children:JSON.stringify(value,null," ")})]})]})},Default=Template.bind({}),EmptyStart=Template.bind({});EmptyStart.args={defaultValue:values.u3,startValue:values.u3},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  const [value, setValue] = useState(args.startValue);\n  const updateValue = nextValue => {\n    setValue({\n      ...value,\n      ...nextValue\n    });\n  };\n  return <>\n            <Typeface {...args} value={value} onChange={updateValue} />\n            <div className=\"value-previewer\">\n                <strong>Value:</strong>\n                <pre>{JSON.stringify(value, null, ' ')}</pre>\n            </div>\n        </>;\n}",...Default.parameters?.docs?.source}}},EmptyStart.parameters={...EmptyStart.parameters,docs:{...EmptyStart.parameters?.docs,source:{originalSource:"args => {\n  const [value, setValue] = useState(args.startValue);\n  const updateValue = nextValue => {\n    setValue({\n      ...value,\n      ...nextValue\n    });\n  };\n  return <>\n            <Typeface {...args} value={value} onChange={updateValue} />\n            <div className=\"value-previewer\">\n                <strong>Value:</strong>\n                <pre>{JSON.stringify(value, null, ' ')}</pre>\n            </div>\n        </>;\n}",...EmptyStart.parameters?.docs?.source}}};const __namedExportsOrder=["Default","EmptyStart"]}}]);