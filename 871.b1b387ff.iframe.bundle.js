(self.webpackChunkneve=self.webpackChunkneve||[]).push([[871],{"./node_modules/@wordpress/a11y/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>speak});var build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js");function addContainer(ariaLive="polite"){const container=document.createElement("div");container.id=`a11y-speak-${ariaLive}`,container.className="a11y-speak-region",container.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),container.setAttribute("aria-live",ariaLive),container.setAttribute("aria-relevant","additions text"),container.setAttribute("aria-atomic","true");const{body}=document;return body&&body.appendChild(container),container}let previousMessage="";function speak(message,ariaLive){!function clear(){const regions=document.getElementsByClassName("a11y-speak-region"),introText=document.getElementById("a11y-speak-intro-text");for(let i=0;i<regions.length;i++)regions[i].textContent="";introText&&introText.setAttribute("hidden","hidden")}(),message=function filterMessage(message){return message=message.replace(/<[^<>]+>/g," "),previousMessage===message&&(message+="Â "),previousMessage=message,message}(message);const introText=document.getElementById("a11y-speak-intro-text"),containerAssertive=document.getElementById("a11y-speak-assertive"),containerPolite=document.getElementById("a11y-speak-polite");containerAssertive&&"assertive"===ariaLive?containerAssertive.textContent=message:containerPolite&&(containerPolite.textContent=message),introText&&introText.removeAttribute("hidden")}!function domReady(callback){"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",callback):callback())}((function setup(){const introText=document.getElementById("a11y-speak-intro-text"),containerAssertive=document.getElementById("a11y-speak-assertive"),containerPolite=document.getElementById("a11y-speak-polite");null===introText&&function addIntroText(){const introText=document.createElement("p");introText.id="a11y-speak-intro-text",introText.className="a11y-speak-intro-text",introText.textContent=(0,build_module.__)("Notifications"),introText.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),introText.setAttribute("hidden","hidden");const{body}=document;return body&&body.appendChild(introText),introText}(),null===containerAssertive&&addContainer("assertive"),null===containerPolite&&addContainer("polite")}))},"./node_modules/@wordpress/components/build-module/button-group/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function ButtonGroup({className,...props},ref){const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-button-group",className);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.A)({ref,role:"group",className:classes},props))}))},"./node_modules/@wordpress/components/build-module/color-picker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ColorPicker});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),keycodes_build_module=__webpack_require__("./node_modules/@wordpress/keycodes/build-module/index.js"),is_shallow_equal_build_module=__webpack_require__("./node_modules/@wordpress/is-shallow-equal/build-module/index.js");const higher_order_pure=(0,__webpack_require__("./node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js").A)((Wrapped=>Wrapped.prototype instanceof react.Component?class extends Wrapped{shouldComponentUpdate(nextProps,nextState){return!(0,is_shallow_equal_build_module.Ay)(nextProps,this.props)||!(0,is_shallow_equal_build_module.Ay)(nextState,this.state)}}:class extends react.Component{shouldComponentUpdate(nextProps){return!(0,is_shallow_equal_build_module.Ay)(nextProps,this.props)}render(){return(0,react.createElement)(Wrapped,this.props)}}),"pure");var tinycolor=__webpack_require__("./node_modules/tinycolor2/tinycolor.js"),tinycolor_default=__webpack_require__.n(tinycolor);function colorToState(data={},oldHue=!1){const color=data.hex?tinycolor_default()(data.hex):tinycolor_default()(data),hsl=color.toHsl();hsl.h=Math.round(hsl.h),hsl.s=Math.round(100*hsl.s),hsl.l=Math.round(100*hsl.l);const hsv=color.toHsv();hsv.h=Math.round(hsv.h),hsv.s=Math.round(100*hsv.s),hsv.v=Math.round(100*hsv.v);const rgb=color.toRgb(),hex=color.toHex();0===hsl.s&&(hsl.h=oldHue||0,hsv.h=oldHue||0);return{color,hex:"000000"===hex&&0===rgb.a?"transparent":`#${hex}`,hsl,hsv,oldHue:data.h||oldHue||hsl.h,rgb,source:data.source}}function getPointOffset(e,container){e.preventDefault();const{left:containerLeft,top:containerTop,width,height}=container.getBoundingClientRect(),x="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,y="number"==typeof e.pageY?e.pageY:e.touches[0].pageY;let left=x-(containerLeft+window.pageXOffset),top=y-(containerTop+window.pageYOffset);return left<0?left=0:left>width?left=width:top<0?top=0:top>height&&(top=height),{top,left,width,height}}function isValidHex(hex){const lh="#"===String(hex).charAt(0)?1:0;return hex.length!==4+lh&&hex.length<7+lh&&tinycolor_default()(hex).isValid()}class Alpha extends react.Component{constructor(){super(...arguments),this.container=(0,react.createRef)(),this.increase=this.increase.bind(this),this.decrease=this.decrease.bind(this),this.handleChange=this.handleChange.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}componentWillUnmount(){this.unbindEventListeners()}increase(amount=.01){const{hsl,onChange=lodash.noop}=this.props;amount=parseInt(100*amount,10);onChange({h:hsl.h,s:hsl.s,l:hsl.l,a:(parseInt(100*hsl.a,10)+amount)/100,source:"rgb"})}decrease(amount=.01){const{hsl,onChange=lodash.noop}=this.props,intValue=parseInt(100*hsl.a,10)-parseInt(100*amount,10);onChange({h:hsl.h,s:hsl.s,l:hsl.l,a:hsl.a<=amount?0:intValue/100,source:"rgb"})}handleChange(e){const{onChange=lodash.noop}=this.props,change=function calculateAlphaChange(e,props,container){const{left,width}=getPointOffset(e,container),a=left<0?0:Math.round(100*left/width)/100;return props.hsl.a!==a?{h:props.hsl.h,s:props.hsl.s,l:props.hsl.l,a,source:"rgb"}:null}(e,this.props,this.container.current);change&&onChange(change,e)}handleMouseDown(e){this.handleChange(e),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)}handleMouseUp(){this.unbindEventListeners()}unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}handleKeyDown(event){const{keyCode,shiftKey}=event,shortcuts={[keycodes_build_module.UP]:()=>this.increase(shiftKey?.1:.01),[keycodes_build_module.NS]:()=>this.increase(shiftKey?.1:.01),[keycodes_build_module.Nx]:()=>this.increase(.1),[keycodes_build_module.Kp]:()=>this.increase(1),[keycodes_build_module.PX]:()=>this.decrease(shiftKey?.1:.01),[keycodes_build_module.M3]:()=>this.decrease(shiftKey?.1:.01),[keycodes_build_module.W3]:()=>this.decrease(.1),[keycodes_build_module.yZ]:()=>this.decrease(1)};for(const code in shortcuts)code===String(keyCode)&&shortcuts[keyCode]();keyCode!==keycodes_build_module.wn&&event.preventDefault()}render(){const{rgb}=this.props,rgbString=`${rgb.r},${rgb.g},${rgb.b}`,gradient={background:`linear-gradient(to right, rgba(${rgbString}, 0) 0%, rgba(${rgbString}, 1) 100%)`},pointerLocation={left:100*rgb.a+"%"};return(0,react.createElement)("div",{className:"components-color-picker__alpha"},(0,react.createElement)("div",{className:"components-color-picker__alpha-gradient",style:gradient}),(0,react.createElement)("div",{className:"components-color-picker__alpha-bar",ref:this.container,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},(0,react.createElement)("div",{tabIndex:"0",role:"slider","aria-valuemax":"1","aria-valuemin":"0","aria-valuenow":rgb.a,"aria-orientation":"horizontal","aria-label":(0,build_module.__)("Alpha value, from 0 (transparent) to 1 (fully opaque)."),className:"components-color-picker__alpha-pointer",style:pointerLocation,onKeyDown:this.handleKeyDown})))}}const alpha=higher_order_pure(Alpha),compose=lodash.flowRight;var with_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/higher-order/with-instance-id/index.js"),component=__webpack_require__("./node_modules/@wordpress/components/build-module/visually-hidden/component.js");class Hue extends react.Component{constructor(){super(...arguments),this.container=(0,react.createRef)(),this.increase=this.increase.bind(this),this.decrease=this.decrease.bind(this),this.handleChange=this.handleChange.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}componentWillUnmount(){this.unbindEventListeners()}increase(amount=1){const{hsl,onChange=lodash.noop}=this.props;onChange({h:hsl.h+amount>=359?359:hsl.h+amount,s:hsl.s,l:hsl.l,a:hsl.a,source:"rgb"})}decrease(amount=1){const{hsl,onChange=lodash.noop}=this.props;onChange({h:hsl.h<=amount?0:hsl.h-amount,s:hsl.s,l:hsl.l,a:hsl.a,source:"rgb"})}handleChange(e){const{onChange=lodash.noop}=this.props,change=function calculateHueChange(e,props,container){const{left,width}=getPointOffset(e,container),h=left>=width?359:100*left/width*360/100;return props.hsl.h!==h?{h,s:props.hsl.s,l:props.hsl.l,a:props.hsl.a,source:"rgb"}:null}(e,this.props,this.container.current);change&&onChange(change,e)}handleMouseDown(e){this.handleChange(e),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)}handleMouseUp(){this.unbindEventListeners()}unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}handleKeyDown(event){const{keyCode,shiftKey}=event,shortcuts={[keycodes_build_module.UP]:()=>this.increase(shiftKey?10:1),[keycodes_build_module.NS]:()=>this.increase(shiftKey?10:1),[keycodes_build_module.Nx]:()=>this.increase(10),[keycodes_build_module.Kp]:()=>this.increase(359),[keycodes_build_module.PX]:()=>this.decrease(shiftKey?10:1),[keycodes_build_module.M3]:()=>this.decrease(shiftKey?10:1),[keycodes_build_module.W3]:()=>this.decrease(10),[keycodes_build_module.yZ]:()=>this.decrease(359)};for(const code in shortcuts)code===String(keyCode)&&shortcuts[keyCode]();keyCode!==keycodes_build_module.wn&&event.preventDefault()}render(){const{hsl={},instanceId}=this.props,pointerLocation={left:100*hsl.h/360+"%"};return(0,react.createElement)("div",{className:"components-color-picker__hue"},(0,react.createElement)("div",{className:"components-color-picker__hue-gradient"}),(0,react.createElement)("div",{className:"components-color-picker__hue-bar",ref:this.container,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},(0,react.createElement)("div",{tabIndex:"0",role:"slider","aria-valuemax":"1","aria-valuemin":"359","aria-valuenow":hsl.h,"aria-orientation":"horizontal","aria-label":(0,build_module.__)("Hue value in degrees, from 0 to 359."),"aria-describedby":`components-color-picker__hue-description-${instanceId}`,className:"components-color-picker__hue-pointer",style:pointerLocation,onKeyDown:this.handleKeyDown}),(0,react.createElement)(component.A,{as:"p",id:`components-color-picker__hue-description-${instanceId}`},(0,build_module.__)("Move the arrow left or right to change hue."))))}}const hue=compose(higher_order_pure,with_instance_id.A)(Hue);var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),a11y_build_module=__webpack_require__("./node_modules/@wordpress/a11y/build-module/index.js"),chevron_down=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/chevron-down.js"),build_module_button=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js"),text_control=__webpack_require__("./node_modules/@wordpress/components/build-module/text-control/index.js");class Input extends react.Component{constructor(){super(...arguments),this.handleBlur=this.handleBlur.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleBlur(){const{value,valueKey,onChange,source}=this.props;onChange({source,state:"commit",value,valueKey})}handleChange(value){const{valueKey,onChange,source}=this.props;value.length>4&&isValidHex(value)?onChange({source,state:"commit",value,valueKey}):onChange({source,state:"draft",value,valueKey})}handleKeyDown({keyCode}){if(keyCode!==keycodes_build_module.Fm&&keyCode!==keycodes_build_module.UP&&keyCode!==keycodes_build_module.PX)return;const{value,valueKey,onChange,source}=this.props;onChange({source,state:"commit",value,valueKey})}render(){const{label,value,...props}=this.props;return(0,react.createElement)(text_control.A,(0,esm_extends.A)({className:"components-color-picker__inputs-field",label,value,onChange:newValue=>this.handleChange(newValue),onBlur:this.handleBlur,onKeyDown:this.handleKeyDown},(0,lodash.omit)(props,["onChange","valueKey","source"])))}}const PureButton=higher_order_pure(build_module_button.A);class Inputs extends react.Component{constructor({hsl}){super(...arguments);const view=1===hsl.a?"hex":"rgb";this.state={view},this.toggleViews=this.toggleViews.bind(this),this.resetDraftValues=this.resetDraftValues.bind(this),this.handleChange=this.handleChange.bind(this),this.normalizeValue=this.normalizeValue.bind(this)}static getDerivedStateFromProps(props,state){return 1!==props.hsl.a&&"hex"===state.view?{view:"rgb"}:null}toggleViews(){"hex"===this.state.view?(this.setState({view:"rgb"},this.resetDraftValues),(0,a11y_build_module.L)((0,build_module.__)("RGB mode active"))):"rgb"===this.state.view?(this.setState({view:"hsl"},this.resetDraftValues),(0,a11y_build_module.L)((0,build_module.__)("Hue/saturation/lightness mode active"))):"hsl"===this.state.view&&(1===this.props.hsl.a?(this.setState({view:"hex"},this.resetDraftValues),(0,a11y_build_module.L)((0,build_module.__)("Hex color mode active"))):(this.setState({view:"rgb"},this.resetDraftValues),(0,a11y_build_module.L)((0,build_module.__)("RGB mode active"))))}resetDraftValues(){return this.props.onChange({state:"reset"})}normalizeValue(valueKey,value){return"a"!==valueKey?value:value<0?0:value>1?1:Math.round(100*value)/100}handleChange({source,state,value,valueKey}){this.props.onChange({source,state,valueKey,value:this.normalizeValue(valueKey,value)})}renderFields(){const{disableAlpha=!1}=this.props;if("hex"===this.state.view)return(0,react.createElement)("div",{className:"components-color-picker__inputs-fields"},(0,react.createElement)(Input,{source:this.state.view,label:(0,build_module.__)("Color value in hexadecimal"),valueKey:"hex",value:this.props.hex,onChange:this.handleChange}));if("rgb"===this.state.view){const legend=disableAlpha?(0,build_module.__)("Color value in RGB"):(0,build_module.__)("Color value in RGBA");return(0,react.createElement)("fieldset",null,(0,react.createElement)(component.A,{as:"legend"},legend),(0,react.createElement)("div",{className:"components-color-picker__inputs-fields"},(0,react.createElement)(Input,{source:this.state.view,label:"r",valueKey:"r",value:this.props.rgb.r,onChange:this.handleChange,type:"number",min:"0",max:"255"}),(0,react.createElement)(Input,{source:this.state.view,label:"g",valueKey:"g",value:this.props.rgb.g,onChange:this.handleChange,type:"number",min:"0",max:"255"}),(0,react.createElement)(Input,{source:this.state.view,label:"b",valueKey:"b",value:this.props.rgb.b,onChange:this.handleChange,type:"number",min:"0",max:"255"}),disableAlpha?null:(0,react.createElement)(Input,{source:this.state.view,label:"a",valueKey:"a",value:this.props.rgb.a,onChange:this.handleChange,type:"number",min:"0",max:"1",step:"0.01"})))}if("hsl"===this.state.view){const legend=disableAlpha?(0,build_module.__)("Color value in HSL"):(0,build_module.__)("Color value in HSLA");return(0,react.createElement)("fieldset",null,(0,react.createElement)(component.A,{as:"legend"},legend),(0,react.createElement)("div",{className:"components-color-picker__inputs-fields"},(0,react.createElement)(Input,{source:this.state.view,label:"h",valueKey:"h",value:this.props.hsl.h,onChange:this.handleChange,type:"number",min:"0",max:"359"}),(0,react.createElement)(Input,{source:this.state.view,label:"s",valueKey:"s",value:this.props.hsl.s,onChange:this.handleChange,type:"number",min:"0",max:"100"}),(0,react.createElement)(Input,{source:this.state.view,label:"l",valueKey:"l",value:this.props.hsl.l,onChange:this.handleChange,type:"number",min:"0",max:"100"}),disableAlpha?null:(0,react.createElement)(Input,{source:this.state.view,label:"a",valueKey:"a",value:this.props.hsl.a,onChange:this.handleChange,type:"number",min:"0",max:"1",step:"0.05"})))}}render(){return(0,react.createElement)("div",{className:"components-color-picker__inputs-wrapper"},this.renderFields(),(0,react.createElement)("div",{className:"components-color-picker__inputs-toggle-wrapper"},(0,react.createElement)(PureButton,{className:"components-color-picker__inputs-toggle",icon:chevron_down.A,label:(0,build_module.__)("Change color format"),onClick:this.toggleViews})))}}const inputs=Inputs;class Saturation extends react.Component{constructor(props){super(props),this.throttle=(0,lodash.throttle)(((fn,data,e)=>{fn(data,e)}),50),this.container=(0,react.createRef)(),this.saturate=this.saturate.bind(this),this.brighten=this.brighten.bind(this),this.handleChange=this.handleChange.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}componentWillUnmount(){this.throttle.cancel(),this.unbindEventListeners()}saturate(amount=.01){const{hsv,onChange=lodash.noop}=this.props,intSaturation=(0,lodash.clamp)(hsv.s+Math.round(100*amount),0,100);onChange({h:hsv.h,s:intSaturation,v:hsv.v,a:hsv.a,source:"rgb"})}brighten(amount=.01){const{hsv,onChange=lodash.noop}=this.props,intValue=(0,lodash.clamp)(hsv.v+Math.round(100*amount),0,100);onChange({h:hsv.h,s:hsv.s,v:intValue,a:hsv.a,source:"rgb"})}handleChange(e){const{onChange=lodash.noop}=this.props,change=function calculateSaturationChange(e,props,container){const{top,left,width,height}=getPointOffset(e,container),saturation=left<0?0:100*left/width;let bright=top>=height?0:-100*top/height+100;return bright<1&&(bright=0),{h:props.hsl.h,s:saturation,v:bright,a:props.hsl.a,source:"rgb"}}(e,this.props,this.container.current);this.throttle(onChange,change,e)}handleMouseDown(e){this.handleChange(e),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)}handleMouseUp(){this.unbindEventListeners()}unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}handleKeyDown(event){const{keyCode,shiftKey}=event,shortcuts={[keycodes_build_module.UP]:()=>this.brighten(shiftKey?.1:.01),[keycodes_build_module.Nx]:()=>this.brighten(1),[keycodes_build_module.PX]:()=>this.brighten(shiftKey?-.1:-.01),[keycodes_build_module.W3]:()=>this.brighten(-1),[keycodes_build_module.NS]:()=>this.saturate(shiftKey?.1:.01),[keycodes_build_module.Kp]:()=>this.saturate(1),[keycodes_build_module.M3]:()=>this.saturate(shiftKey?-.1:-.01),[keycodes_build_module.yZ]:()=>this.saturate(-1)};for(const code in shortcuts)code===String(keyCode)&&shortcuts[keyCode]();keyCode!==keycodes_build_module.wn&&event.preventDefault()}render(){const{hsv,hsl,instanceId}=this.props,pointerLocation={top:100-hsv.v+"%",left:`${hsv.s}%`};return(0,react.createElement)("div",{style:{background:`hsl(${hsl.h},100%, 50%)`},className:"components-color-picker__saturation-color",ref:this.container,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,role:"application"},(0,react.createElement)("div",{className:"components-color-picker__saturation-white"}),(0,react.createElement)("div",{className:"components-color-picker__saturation-black"}),(0,react.createElement)(build_module_button.A,{"aria-label":(0,build_module.__)("Choose a shade"),"aria-describedby":`color-picker-saturation-${instanceId}`,className:"components-color-picker__saturation-pointer",style:pointerLocation,onKeyDown:this.handleKeyDown}),(0,react.createElement)(component.A,{id:`color-picker-saturation-${instanceId}`},(0,build_module.__)("Use your arrow keys to change the base color. Move up to lighten the color, down to darken, left to decrease saturation, and right to increase saturation.")))}}const saturation=compose(higher_order_pure,with_instance_id.A)(Saturation),toLowerCase=value=>String(value).toLowerCase(),isValidColor=colors=>colors.hex?isValidHex(colors.hex):function simpleCheckForValidColor(data){let checked=0,passed=0;return(0,lodash.each)(["r","g","b","a","h","s","l","v"],(letter=>{data[letter]&&(checked+=1,isNaN(data[letter])||(passed+=1))})),checked===passed&&data}(colors),dataToColors=(oldColors,{source,valueKey,value})=>"hex"===source?{source,[source]:value}:{source,...{...oldColors[source],[valueKey]:value}};class ColorPicker extends react.Component{constructor({color="0071a1"}){super(...arguments);const colors=colorToState(color);this.state={...colors,draftHex:toLowerCase(colors.hex),draftRgb:colors.rgb,draftHsl:colors.hsl},this.commitValues=this.commitValues.bind(this),this.setDraftValues=this.setDraftValues.bind(this),this.resetDraftValues=this.resetDraftValues.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}commitValues(data){const{oldHue,onChangeComplete=lodash.noop}=this.props;if(isValidColor(data)){const colors=colorToState(data,data.h||oldHue);this.setState({...colors,draftHex:toLowerCase(colors.hex),draftHsl:colors.hsl,draftRgb:colors.rgb},(0,lodash.debounce)((0,lodash.partial)(onChangeComplete,colors),100))}}resetDraftValues(){this.setState({draftHex:this.state.hex,draftHsl:this.state.hsl,draftRgb:this.state.rgb})}setDraftValues(data){switch(data.source){case"hex":this.setState({draftHex:toLowerCase(data.hex)});break;case"rgb":this.setState({draftRgb:data});break;case"hsl":this.setState({draftHsl:data})}}handleInputChange(data){switch(data.state){case"reset":this.resetDraftValues();break;case"commit":const colors=dataToColors(this.state,data);(data=>"hex"===data.source&&void 0===data.hex||"hsl"===data.source&&(void 0===data.h||void 0===data.s||void 0===data.l)||!("rgb"!==data.source||void 0!==data.r&&void 0!==data.g&&void 0!==data.b||void 0!==data.h&&void 0!==data.s&&void 0!==data.v&&void 0!==data.a||void 0!==data.h&&void 0!==data.s&&void 0!==data.l&&void 0!==data.a))(colors)||this.commitValues(colors);break;case"draft":this.setDraftValues(dataToColors(this.state,data))}}render(){const{className,disableAlpha}=this.props,{color,hsl,hsv,rgb,draftHex,draftHsl,draftRgb}=this.state,classes=classnames_default()(className,{"components-color-picker":!0,"is-alpha-disabled":disableAlpha,"is-alpha-enabled":!disableAlpha});return(0,react.createElement)("div",{className:classes},(0,react.createElement)("div",{className:"components-color-picker__saturation"},(0,react.createElement)(saturation,{hsl,hsv,onChange:this.commitValues})),(0,react.createElement)("div",{className:"components-color-picker__body"},(0,react.createElement)("div",{className:"components-color-picker__controls"},(0,react.createElement)("div",{className:"components-color-picker__swatch"},(0,react.createElement)("div",{className:"components-color-picker__active",style:{backgroundColor:color&&color.toRgbString()}})),(0,react.createElement)("div",{className:"components-color-picker__toggles"},(0,react.createElement)(hue,{hsl,onChange:this.commitValues}),disableAlpha?null:(0,react.createElement)(alpha,{rgb,hsl,onChange:this.commitValues}))),(0,react.createElement)(inputs,{rgb:draftRgb,hsl:draftHsl,hex:draftHex,onChange:this.handleInputChange,disableAlpha})))}}},"./node_modules/@wordpress/components/build-module/dropdown/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Dropdown});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_popover__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@wordpress/components/build-module/popover/index.js");function Dropdown({renderContent,renderToggle,position="bottom right",className,contentClassName,expandOnMobile,headerTitle,focusOnMount,popoverProps,onClose,onToggle}){var _popoverProps$anchorR;const containerRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(),[isOpen,setIsOpen]=function useObservableState(initialState,onStateChange){const[state,setState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState);return[state,value=>{setState(value),onStateChange&&onStateChange(value)}]}(!1,onToggle);function close(){onClose&&onClose(),setIsOpen(!1)}(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>()=>{onToggle&&onToggle(!1)}),[]);const args={isOpen,onToggle:function toggle(){setIsOpen(!isOpen)},onClose:close};return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-dropdown",className),ref:containerRef,tabIndex:"-1"},renderToggle(args),isOpen&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_popover__WEBPACK_IMPORTED_MODULE_2__.A,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.A)({position,onClose:close,onFocusOutside:function closeIfFocusOutside(){const{ownerDocument}=containerRef.current,dialog=ownerDocument.activeElement.closest('[role="dialog"]');containerRef.current.contains(ownerDocument.activeElement)||dialog&&!dialog.contains(containerRef.current)||close()},expandOnMobile,headerTitle,focusOnMount},popoverProps,{anchorRef:null!==(_popoverProps$anchorR=null==popoverProps?void 0:popoverProps.anchorRef)&&void 0!==_popoverProps$anchorR?_popoverProps$anchorR:containerRef.current,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-dropdown__content",popoverProps?popoverProps.className:void 0,contentClassName)}),renderContent(args)))}},"./node_modules/@wordpress/components/build-module/external-link/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>external_link});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),svg=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const library_external=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));var component=__webpack_require__("./node_modules/@wordpress/components/build-module/visually-hidden/component.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),icon=__webpack_require__("./node_modules/@wordpress/icons/build-module/icon/index.js");const StyledIcon=(0,emotion_styled_base_browser_esm.A)(icon.A,{target:"etxm6pv0"})({name:"bqq7t3",styles:"width:1.4em;height:1.4em;margin:-0.2em 0.1em 0;vertical-align:middle;fill:currentColor"});const external_link=(0,react.forwardRef)((function ExternalLink({href,children,className,rel="",...additionalProps},ref){rel=(0,lodash.uniq)((0,lodash.compact)([...rel.split(" "),"external","noreferrer","noopener"])).join(" ");const classes=classnames_default()("components-external-link",className);return(0,react.createElement)("a",(0,esm_extends.A)({},additionalProps,{className:classes,href,target:"_blank",rel,ref}),children,(0,react.createElement)(component.A,{as:"span"},(0,build_module.__)("(opens in a new tab)")),(0,react.createElement)(StyledIcon,{icon:library_external,className:"components-external-link__icon"}))}))},"./node_modules/@wordpress/components/build-module/focal-point-picker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>focal_point_picker});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),with_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/higher-order/with-instance-id/index.js"),keycodes_build_module=__webpack_require__("./node_modules/@wordpress/keycodes/build-module/index.js"),base_control=__webpack_require__("./node_modules/@wordpress/components/build-module/base-control/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),component=__webpack_require__("./node_modules/@wordpress/components/build-module/flex/flex/component.js"),actions=__webpack_require__("./node_modules/@wordpress/components/build-module/input-control/reducer/actions.js"),reducer=__webpack_require__("./node_modules/@wordpress/components/build-module/input-control/reducer/reducer.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),rtl=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/rtl.js"),colors_values=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/colors-values.js"),number_control=__webpack_require__("./node_modules/@wordpress/components/build-module/number-control/index.js");const Root=(0,emotion_styled_base_browser_esm.A)("div",{target:"e1agakv03"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),paddingStyles=({disableUnits})=>{const value=disableUnits?3:24;return(0,emotion_react_browser_esm.AH)((0,rtl.h)({paddingRight:value})(),";","")};var _ref={name:"1y65o8",styles:"&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"};const arrowStyles=({disableUnits})=>disableUnits?"":_ref,ValueInput=(0,emotion_styled_base_browser_esm.A)(number_control.A,{target:"e1agakv02"})("&&&{input{appearance:none;-moz-appearance:textfield;display:block;width:100%;",arrowStyles,";",paddingStyles,";}}"),baseUnitLabelStyles=props=>(0,emotion_react_browser_esm.AH)("appearance:none;background:transparent;border-radius:2px;border:none;box-sizing:border-box;color:",colors_values.lm.darkGray[500],";display:block;font-size:8px;line-height:1;letter-spacing:-0.5px;outline:none;padding:2px 1px;position:absolute;text-align-last:center;text-transform:uppercase;width:20px;",(0,rtl.h)({borderTopLeftRadius:0,borderBottomLeftRadius:0})()," ",(0,rtl.h)({right:0})()," ",(({size})=>(0,emotion_react_browser_esm.AH)({default:{height:28,lineHeight:"24px",minHeight:28,top:1},small:{height:22,lineHeight:"18px",minHeight:22,top:1}}[size],"",""))(props),";",""),UnitLabel=(0,emotion_styled_base_browser_esm.A)("div",{target:"e1agakv01"})("&&&{pointer-events:none;",baseUnitLabelStyles,";}"),UnitSelect=(0,emotion_styled_base_browser_esm.A)("select",{target:"e1agakv00"})("&&&{",baseUnitLabelStyles,";cursor:pointer;border:1px solid transparent;&:hover{background-color:",colors_values.lm.lightGray[300],";}&:focus{border-color:",colors_values.lm.ui.borderFocus,";outline:2px solid transparent;outline-offset:0;}&:disabled{cursor:initial;&:hover{background-color:transparent;}}}"),isWeb="web"==={OS:"web",select:spec=>"web"in spec?spec.web:spec.default,isWeb:!0}.OS,allUnits={px:{value:"px",label:isWeb?"px":(0,build_module.__)("Pixels (px)"),default:"",a11yLabel:(0,build_module.__)("Pixels (px)"),step:1},"%":{value:"%",label:isWeb?"%":(0,build_module.__)("Percentage (%)"),default:"",a11yLabel:(0,build_module.__)("Percent (%)"),step:.1},em:{value:"em",label:isWeb?"em":(0,build_module.__)("Relative to parent font size (em)"),default:"",a11yLabel:(0,build_module._x)("ems","Relative to parent font size (em)"),step:.01},rem:{value:"rem",label:isWeb?"rem":(0,build_module.__)("Relative to root font size (rem)"),default:"",a11yLabel:(0,build_module._x)("rems","Relative to root font size (rem)"),step:.01},vw:{value:"vw",label:isWeb?"vw":(0,build_module.__)("Viewport width (vw)"),default:"",a11yLabel:(0,build_module.__)("Viewport width (vw)"),step:.1},vh:{value:"vh",label:isWeb?"vh":(0,build_module.__)("Viewport height (vh)"),default:"",a11yLabel:(0,build_module.__)("Viewport height (vh)"),step:.1},vmin:{value:"vmin",label:isWeb?"vmin":(0,build_module.__)("Viewport smallest dimension (vmin)"),default:"",a11yLabel:(0,build_module.__)("Viewport smallest dimension (vmin)"),step:.1},vmax:{value:"vmax",label:isWeb?"vmax":(0,build_module.__)("Viewport largest dimension (vmax)"),default:"",a11yLabel:(0,build_module.__)("Viewport largest dimension (vmax)"),step:.1},ch:{value:"ch",label:isWeb?"ch":(0,build_module.__)("Width of the zero (0) character (ch)"),default:"",a11yLabel:(0,build_module.__)("Width of the zero (0) character (ch)"),step:.01},ex:{value:"ex",label:isWeb?"ex":(0,build_module.__)("x-height of the font (ex)"),default:"",a11yLabel:(0,build_module.__)("x-height of the font (ex)"),step:.01},cm:{value:"cm",label:isWeb?"cm":(0,build_module.__)("Centimeters (cm)"),default:"",a11yLabel:(0,build_module.__)("Centimeters (cm)"),step:.001},mm:{value:"mm",label:isWeb?"mm":(0,build_module.__)("Millimeters (mm)"),default:"",a11yLabel:(0,build_module.__)("Millimeters (mm)"),step:.1},in:{value:"in",label:isWeb?"in":(0,build_module.__)("Inches (in)"),default:"",a11yLabel:(0,build_module.__)("Inches (in)"),step:.001},pc:{value:"pc",label:isWeb?"pc":(0,build_module.__)("Picas (pc)"),default:"",a11yLabel:(0,build_module.__)("Picas (pc)"),step:1},pt:{value:"pt",label:isWeb?"pt":(0,build_module.__)("Points (pt)"),default:"",a11yLabel:(0,build_module.__)("Points (pt)"),step:1}},ALL_CSS_UNITS=Object.values(allUnits),CSS_UNITS=[allUnits.px,allUnits["%"],allUnits.em,allUnits.rem,allUnits.vw,allUnits.vh],DEFAULT_UNIT=allUnits.px;function getParsedValue(value,unit,units){return parseUnit(unit?`${value}${unit}`:value,units)}function hasUnits(units){return Array.isArray(units)&&!!units.length}function parseUnit(initialValue,units=ALL_CSS_UNITS){const value=String(initialValue).trim();let num=parseFloat(value);num=isNaN(num)?"":num;const unitMatch=value.match(/[\d.\-\+]*\s*(.*)/)[1];let unit=void 0!==unitMatch?unitMatch:"";if(unit=unit.toLowerCase(),hasUnits(units)&&!1!==units){const match=units.find((item=>item.value===unit));unit=null==match?void 0:match.value}else unit=DEFAULT_UNIT.value;return[num,unit]}function getValidParsedUnit(next,units,fallbackValue,fallbackUnit){const[parsedValue,parsedUnit]=parseUnit(next,units);let baseUnit,baseValue=parsedValue;var _units$;(Number.isFinite(parsedValue)&&""!==parsedValue||(baseValue=fallbackValue),baseUnit=parsedUnit||fallbackUnit,hasUnits(units)&&!baseUnit)&&(baseUnit=null===(_units$=units[0])||void 0===_units$?void 0:_units$.value);return[baseValue,baseUnit]}function UnitSelectControl({className,isTabbable=!0,options=CSS_UNITS,onChange=lodash.noop,size="default",value="px",...props}){if(!hasUnits(options)||1===options.length)return(0,react.createElement)(UnitLabel,{className:"components-unit-control__unit-label",size},value);const classes=classnames_default()("components-unit-control__select",className);return(0,react.createElement)(UnitSelect,(0,esm_extends.A)({className:classes,onChange:event=>{const{value:unitValue}=event.target,data=options.find((option=>option.value===unitValue));onChange(unitValue,{event,data})},size,tabIndex:isTabbable?null:"-1",value},props),options.map((option=>(0,react.createElement)("option",{value:option.value,key:option.value},option.label))))}var use_controlled_state=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/hooks/use-controlled-state.js");const unit_control=(0,react.forwardRef)((function UnitControl({__unstableStateReducer:stateReducer=state=>state,autoComplete="off",className,disabled=!1,disableUnits=!1,isPressEnterToChange=!1,isResetValueOnUnitChange=!1,isUnitSelectTabbable=!0,label,onChange=lodash.noop,onUnitChange=lodash.noop,size="default",style,unit:unitProp,units:unitsProp=CSS_UNITS,value:valueProp,...props},ref){const units=(0,react.useMemo)((()=>function getUnitsWithCurrentUnit(currentValue,legacyUnit,units=ALL_CSS_UNITS){if(!Array.isArray(units))return units;const unitsWithCurrentUnit=[...units],[,currentUnit]=getParsedValue(currentValue,legacyUnit,ALL_CSS_UNITS);return currentUnit&&!unitsWithCurrentUnit.some((unit=>unit.value===currentUnit))&&allUnits[currentUnit]&&unitsWithCurrentUnit.unshift(allUnits[currentUnit]),unitsWithCurrentUnit}(valueProp,unitProp,unitsProp)),[valueProp,unitProp,unitsProp]),[value,initialUnit]=getParsedValue(valueProp,unitProp,units),[unit,setUnit]=(0,use_controlled_state.A)(unitProp,{initial:initialUnit}),refParsedValue=(0,react.useRef)(null),classes=classnames_default()("components-unit-control",className),mayUpdateUnit=event=>{if(!isNaN(event.target.value))return void(refParsedValue.current=null);const[parsedValue,parsedUnit]=getValidParsedUnit(event.target.value,units,value,unit);if(refParsedValue.current=parsedValue,isPressEnterToChange&&parsedUnit!==unit){const changeProps={event,data:units.find((option=>option.value===parsedUnit))};onChange(`${parsedValue}${parsedUnit}`,changeProps),onUnitChange(parsedUnit,changeProps),setUnit(parsedUnit)}},handleOnBlur=mayUpdateUnit,inputSuffix=disableUnits?null:(0,react.createElement)(UnitSelectControl,{"aria-label":(0,build_module.__)("Select unit"),disabled,isTabbable:isUnitSelectTabbable,options:units,onChange:(next,changeProps)=>{const{data}=changeProps;let nextValue=`${value}${next}`;isResetValueOnUnitChange&&void 0!==(null==data?void 0:data.default)&&(nextValue=`${data.default}${next}`),onChange(nextValue,changeProps),onUnitChange(next,changeProps),setUnit(next)},size,value:unit});let step=props.step;if(!step&&units){var _activeUnit$step;const activeUnit=units.find((option=>option.value===unit));step=null!==(_activeUnit$step=null==activeUnit?void 0:activeUnit.step)&&void 0!==_activeUnit$step?_activeUnit$step:1}return(0,react.createElement)(Root,{className:"components-unit-control-wrapper",style},(0,react.createElement)(ValueInput,(0,esm_extends.A)({"aria-label":label,type:isPressEnterToChange?"text":"number"},(0,lodash.omit)(props,["children"]),{autoComplete,className:classes,disabled,disableUnits,isPressEnterToChange,label,onBlur:handleOnBlur,onKeyDown:event=>{const{keyCode}=event;keyCode===keycodes_build_module.Fm&&mayUpdateUnit(event)},onChange:(next,changeProps)=>{""!==next?(next=getValidParsedUnit(next,units,value,unit).join(""),onChange(next,changeProps)):onChange("",changeProps)},ref,size,suffix:inputSuffix,value,step,__unstableStateReducer:(0,reducer.n)(((state,action)=>(action.type===actions.cJ&&null!==refParsedValue.current&&(state.value=refParsedValue.current,refParsedValue.current=null),state)),stateReducer)})))}));const MediaWrapper=(0,emotion_styled_base_browser_esm.A)("div",{target:"e11wezi78"})({name:"1g31405",styles:"background-color:transparent;box-sizing:border-box;text-align:center;width:100%"}),MediaContainer=(0,emotion_styled_base_browser_esm.A)("div",{target:"e11wezi77"})({name:"v0nrlz",styles:"align-items:center;box-sizing:border-box;box-shadow:0 0 0 1px rgba( 0, 0, 0, 0.2 );cursor:pointer;display:inline-flex;justify-content:center;margin:auto;position:relative;height:100%;img,video{box-sizing:border-box;display:block;height:auto;margin:0;max-height:100%;max-width:100%;pointer-events:none;user-select:none;width:auto;}"}),MediaPlaceholder=(0,emotion_styled_base_browser_esm.A)("div",{target:"e11wezi76"})("background:",colors_values.lm.lightGray[300],";box-sizing:border-box;height:170px;max-width:280px;min-width:200px;width:100%;"),focal_point_picker_style_UnitControl=(0,emotion_styled_base_browser_esm.A)(unit_control,{target:"e11wezi75"})({name:"1pzk433",styles:"width:100px"}),ControlWrapper=(0,emotion_styled_base_browser_esm.A)(component.A,{target:"e11wezi74"})({name:"ox4xcy",styles:"max-width:320px;padding:1em 0"}),GridView=(0,emotion_styled_base_browser_esm.A)("div",{target:"e11wezi73"})("box-sizing:border-box;left:50%;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:50%;transform:translate3d( -50%, -50%, 0 );transition:opacity 120ms linear;z-index:1;",(({isActive})=>isActive&&"\n\t\topacity: 1;\n\t"),";"),GridLine=(0,emotion_styled_base_browser_esm.A)("div",{target:"e11wezi72"})({name:"1sy4ch9",styles:"box-sizing:border-box;background:white;box-shadow:0 0 2px rgba( 0, 0, 0, 0.6 );position:absolute;opacity:0.4;transform:translateZ( 0 )"}),GridLineX=(0,emotion_styled_base_browser_esm.A)(GridLine,{target:"e11wezi71"})({name:"1qp910y",styles:"height:1px;left:0;right:0"}),GridLineY=(0,emotion_styled_base_browser_esm.A)(GridLine,{target:"e11wezi70"})({name:"1oz3zka",styles:"width:1px;top:0;bottom:0"}),INITIAL_BOUNDS={top:0,left:0,bottom:0,right:0,width:0,height:0},VIDEO_EXTENSIONS=["avi","mpg","mpeg","mov","mp4","m4v","ogg","ogv","webm","wmv"];function fractionToPercentage(fraction){return Math.round(100*fraction)}function FocalPointPickerControls({onChange=lodash.noop,percentages={x:.5,y:.5}}){const valueX=fractionToPercentage(percentages.x),valueY=fractionToPercentage(percentages.y),handleChange=(value,axis)=>{const num=parseInt(value,10);isNaN(num)||onChange({...percentages,[axis]:num/100})};return(0,react.createElement)(ControlWrapper,{className:"focal-point-picker__controls"},(0,react.createElement)(controls_UnitControl,{label:(0,build_module.__)("Left"),value:valueX,onChange:next=>handleChange(next,"x"),dragDirection:"e"}),(0,react.createElement)(controls_UnitControl,{label:(0,build_module.__)("Top"),value:valueY,onChange:next=>handleChange(next,"y"),dragDirection:"s"}))}function controls_UnitControl(props){return(0,react.createElement)(focal_point_picker_style_UnitControl,(0,esm_extends.A)({className:"focal-point-picker__controls-position-unit-control",labelPosition:"top",max:100,min:0,unit:"%",units:[{value:"%",label:"%"}]},props))}var svg=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const FocalPointWrapper=(0,emotion_styled_base_browser_esm.A)("div",{target:"eas61re3"})("background-color:transparent;box-sizing:border-box;cursor:grab;height:30px;margin:-15px 0 0 -15px;opacity:0.8;position:absolute;user-select:none;width:30px;will-change:transform;z-index:10000;",(({isDragging})=>isDragging&&"cursor: grabbing;"),";"),PointerIconSVG=(0,emotion_styled_base_browser_esm.A)(svg.t4,{target:"eas61re2"})({name:"qkx60y",styles:"display:block;height:100%;left:0;position:absolute;top:0;width:100%"}),PointerIconPathOutline=(0,emotion_styled_base_browser_esm.A)(svg.wA,{target:"eas61re1"})({name:"1b3qpiw",styles:"fill:white"}),PointerIconPathFill=(0,emotion_styled_base_browser_esm.A)(svg.wA,{target:"eas61re0"})("fill:",colors_values.lm.blue.wordpress[700],";fill:",colors_values.lm.ui.theme,";");function FocalPoint({coordinates={left:"50%",top:"50%"},...props}){const classes=classnames_default()("components-focal-point-picker__icon_container"),style={left:coordinates.left,top:coordinates.top};return(0,react.createElement)(FocalPointWrapper,(0,esm_extends.A)({},props,{className:classes,style}),(0,react.createElement)(PointerIconSVG,{className:"components-focal-point-picker__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},(0,react.createElement)(PointerIconPathOutline,{className:"components-focal-point-picker__icon-outline",d:"M15 1C7.3 1 1 7.3 1 15s6.3 14 14 14 14-6.3 14-14S22.7 1 15 1zm0 22c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"}),(0,react.createElement)(PointerIconPathFill,{className:"components-focal-point-picker__icon-fill",d:"M15 3C8.4 3 3 8.4 3 15s5.4 12 12 12 12-5.4 12-12S21.6 3 15 3zm0 22C9.5 25 5 20.5 5 15S9.5 5 15 5s10 4.5 10 10-4.5 10-10 10z"})))}var use_update_effect=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/hooks/use-update-effect.js");const{clearTimeout:grid_clearTimeout,setTimeout:grid_setTimeout}="undefined"!=typeof window?window:{};function FocalPointPickerGrid({bounds={},value,...props}){const animationProps=function useRevealAnimation(value){const[isActive,setIsActive]=(0,react.useState)(!1);return(0,use_update_effect.A)((()=>{setIsActive(!0);const timeout=grid_setTimeout((()=>{setIsActive(!1)}),600);return()=>grid_clearTimeout(timeout)}),[value]),{isActive}}(value),style={width:bounds.width,height:bounds.height};return(0,react.createElement)(GridView,(0,esm_extends.A)({},props,animationProps,{className:"components-focal-point-picker__grid",style}),(0,react.createElement)(GridLineX,{style:{top:"33%"}}),(0,react.createElement)(GridLineX,{style:{top:"66%"}}),(0,react.createElement)(GridLineY,{style:{left:"33%"}}),(0,react.createElement)(GridLineY,{style:{left:"66%"}}))}function Media({alt,autoPlay,src,onLoad=lodash.noop,mediaRef,muted=!0,...props}){if(!src)return(0,react.createElement)(MediaPlaceholderElement,{className:"components-focal-point-picker__media components-focal-point-picker__media--placeholder",onLoad,mediaRef});return function isVideoType(filename=""){return!!filename&&VIDEO_EXTENSIONS.includes(function getExtension(filename=""){const parts=filename.split(".");return parts[parts.length-1]}(filename))}(src)?(0,react.createElement)("video",(0,esm_extends.A)({},props,{autoPlay,className:"components-focal-point-picker__media components-focal-point-picker__media--video",loop:!0,muted,onLoadedData:onLoad,ref:mediaRef,src})):(0,react.createElement)("img",(0,esm_extends.A)({},props,{alt,className:"components-focal-point-picker__media components-focal-point-picker__media--image",onLoad,ref:mediaRef,src}))}function MediaPlaceholderElement({mediaRef,onLoad=lodash.noop,...props}){const onLoadRef=(0,react.useRef)(onLoad);return(0,react.useLayoutEffect)((()=>{window.requestAnimationFrame((()=>{onLoadRef.current()}))}),[]),(0,react.createElement)(MediaPlaceholder,(0,esm_extends.A)({ref:mediaRef},props))}var math=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/math.js");class FocalPointPicker extends react.Component{constructor(props){super(...arguments),this.state={isDragging:!1,bounds:INITIAL_BOUNDS,percentages:props.value},this.containerRef=(0,react.createRef)(),this.mediaRef=(0,react.createRef)(),this.onMouseDown=this.startDrag.bind(this),this.onMouseUp=this.stopDrag.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseMove=this.doDrag.bind(this),this.ifDraggingStop=()=>{this.state.isDragging&&this.stopDrag()},this.onChangeAtControls=value=>{this.updateValue(value),this.props.onChange(value)},this.updateBounds=this.updateBounds.bind(this),this.updateValue=this.updateValue.bind(this)}componentDidMount(){const{defaultView}=this.containerRef.current.ownerDocument;defaultView.addEventListener("resize",this.updateBounds),this.updateBounds()}componentDidUpdate(prevProps){prevProps.url!==this.props.url&&this.ifDraggingStop();const{isDragging,percentages:{x,y}}=this.state,{value}=this.props;isDragging||value.x===x&&value.y===y||this.setState({percentages:this.props.value})}componentWillUnmount(){const{defaultView}=this.containerRef.current.ownerDocument;defaultView.removeEventListener("resize",this.updateBounds),this.ifDraggingStop()}calculateBounds(){const bounds=INITIAL_BOUNDS;if(!this.mediaRef.current)return bounds;if(0===this.mediaRef.current.clientWidth||0===this.mediaRef.current.clientHeight)return bounds;const dimensions_width=this.mediaRef.current.clientWidth,dimensions_height=this.mediaRef.current.clientHeight,pickerDimensions=this.pickerDimensions(),widthRatio=pickerDimensions.width/dimensions_width,heightRatio=pickerDimensions.height/dimensions_height;return heightRatio>=widthRatio?(bounds.width=bounds.right=pickerDimensions.width,bounds.height=dimensions_height*widthRatio,bounds.top=(pickerDimensions.height-bounds.height)/2,bounds.bottom=bounds.top+bounds.height):(bounds.height=bounds.bottom=pickerDimensions.height,bounds.width=dimensions_width*heightRatio,bounds.left=(pickerDimensions.width-bounds.width)/2,bounds.right=bounds.left+bounds.width),bounds}updateValue(nextValue={}){const{x,y}=nextValue,nextPercentage={x:parseFloat(x).toFixed(2),y:parseFloat(y).toFixed(2)};this.setState({percentages:nextPercentage})}updateBounds(){this.setState({bounds:this.calculateBounds()})}startDrag(event){var _this$props$onDragSta,_this$props;event.persist(),this.containerRef.current.focus(),this.setState({isDragging:!0});const{ownerDocument}=this.containerRef.current;ownerDocument.addEventListener("mouseup",this.onMouseUp),ownerDocument.addEventListener("mousemove",this.onMouseMove);const value=this.getValueFromPoint({x:event.pageX,y:event.pageY},event.shiftKey);this.updateValue(value),null===(_this$props$onDragSta=(_this$props=this.props).onDragStart)||void 0===_this$props$onDragSta||_this$props$onDragSta.call(_this$props,value,event)}stopDrag(event){var _this$props$onDragEnd,_this$props2;const{ownerDocument}=this.containerRef.current;ownerDocument.removeEventListener("mouseup",this.onMouseUp),ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.setState({isDragging:!1},(()=>{this.props.onChange(this.state.percentages)})),null===(_this$props$onDragEnd=(_this$props2=this.props).onDragEnd)||void 0===_this$props$onDragEnd||_this$props$onDragEnd.call(_this$props2,event)}onKeyDown(event){const{keyCode,shiftKey}=event;if(![keycodes_build_module.UP,keycodes_build_module.PX,keycodes_build_module.M3,keycodes_build_module.NS].includes(keyCode))return;event.preventDefault();const next={...this.state.percentages},step=shiftKey?.1:.01,delta=keyCode===keycodes_build_module.UP||keyCode===keycodes_build_module.M3?-1*step:step,axis=keyCode===keycodes_build_module.UP||keyCode===keycodes_build_module.PX?"y":"x",value=parseFloat(next[axis])+delta;next[axis]=(0,math.ir)(value,0,1,step),this.updateValue(next),this.props.onChange(next)}doDrag(event){var _this$props$onDrag,_this$props3;event.preventDefault();const value=this.getValueFromPoint({x:event.pageX,y:event.pageY},event.shiftKey);this.updateValue(value),null===(_this$props$onDrag=(_this$props3=this.props).onDrag)||void 0===_this$props$onDrag||_this$props$onDrag.call(_this$props3,value,event)}getValueFromPoint(point,byTenths){const{bounds}=this.state,pickerDimensions=this.pickerDimensions(),relativePoint={left:point.x-pickerDimensions.left,top:point.y-pickerDimensions.top},left=Math.max(bounds.left,Math.min(relativePoint.left,bounds.right)),top=Math.max(bounds.top,Math.min(relativePoint.top,bounds.bottom));let nextX=(left-bounds.left)/(pickerDimensions.width-2*bounds.left),nextY=(top-bounds.top)/(pickerDimensions.height-2*bounds.top);const step=byTenths?.1:.01;return nextX=(0,math.ir)(nextX,0,1,step),nextY=(0,math.ir)(nextY,0,1,step),{x:nextX,y:nextY}}pickerDimensions(){const containerNode=this.containerRef.current;if(!containerNode)return{width:0,height:0,left:0,top:0};const{clientHeight,clientWidth}=containerNode,{top,left}=containerNode.getBoundingClientRect();return{width:clientWidth,height:clientHeight,top:top+document.body.scrollTop,left}}iconCoordinates(){const{bounds,percentages:{x,y}}=this.state;if(void 0===bounds.left||void 0===bounds.top)return{left:"50%",top:"50%"};const{width,height}=this.pickerDimensions();return{left:x*(width-2*bounds.left)+bounds.left,top:y*(height-2*bounds.top)+bounds.top}}render(){const{autoPlay,className,help,instanceId,label,url}=this.props,{bounds,isDragging,percentages}=this.state,iconCoordinates=this.iconCoordinates(),classes=classnames_default()("components-focal-point-picker-control",className),id=`inspector-focal-point-picker-control-${instanceId}`;return(0,react.createElement)(base_control.A,{label,id,help,className:classes},(0,react.createElement)(MediaWrapper,{className:"components-focal-point-picker-wrapper"},(0,react.createElement)(MediaContainer,{className:"components-focal-point-picker",onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onBlur:this.ifDraggingStop,ref:this.containerRef,role:"button",tabIndex:"-1"},(0,react.createElement)(FocalPointPickerGrid,{bounds,value:percentages.x+percentages.y}),(0,react.createElement)(Media,{alt:(0,build_module.__)("Media preview"),autoPlay,mediaRef:this.mediaRef,onLoad:this.updateBounds,src:url}),(0,react.createElement)(FocalPoint,{coordinates:iconCoordinates,isDragging}))),(0,react.createElement)(FocalPointPickerControls,{percentages,onChange:this.onChangeAtControls}))}}FocalPointPicker.defaultProps={autoPlay:!0,value:{x:.5,y:.5},url:null};const focal_point_picker=(0,with_instance_id.A)(FocalPointPicker)},"./node_modules/@wordpress/components/build-module/form-token-field/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>form_token_field});var react=__webpack_require__("./node_modules/react/index.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),with_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/higher-order/with-instance-id/index.js"),keycodes_build_module=__webpack_require__("./node_modules/@wordpress/keycodes/build-module/index.js"),is_shallow_equal_build_module=__webpack_require__("./node_modules/@wordpress/is-shallow-equal/build-module/index.js"),use_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),close_small=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/close-small.js"),build_module_button=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js"),component=__webpack_require__("./node_modules/@wordpress/components/build-module/visually-hidden/component.js");function Token({value,status,title,displayTransform,isBorderless=!1,disabled=!1,onClickRemove=lodash.noop,onMouseEnter,onMouseLeave,messages,termPosition,termsCount}){const instanceId=(0,use_instance_id.A)(Token),tokenClasses=classnames_default()("components-form-token-field__token",{"is-error":"error"===status,"is-success":"success"===status,"is-validating":"validating"===status,"is-borderless":isBorderless,"is-disabled":disabled}),transformedValue=displayTransform(value),termPositionAndCount=(0,build_module.nv)((0,build_module.__)("%1$s (%2$s of %3$s)"),transformedValue,termPosition,termsCount);return(0,react.createElement)("span",{className:tokenClasses,onMouseEnter,onMouseLeave,title},(0,react.createElement)("span",{className:"components-form-token-field__token-text",id:`components-form-token-field__token-text-${instanceId}`},(0,react.createElement)(component.A,{as:"span"},termPositionAndCount),(0,react.createElement)("span",{"aria-hidden":"true"},transformedValue)),(0,react.createElement)(build_module_button.A,{className:"components-form-token-field__remove-token",icon:close_small.A,onClick:!disabled&&(()=>onClickRemove({value})),label:messages.remove,"aria-describedby":`components-form-token-field__token-text-${instanceId}`}))}var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");class TokenInput extends react.Component{constructor(){super(...arguments),this.onChange=this.onChange.bind(this),this.bindInput=this.bindInput.bind(this)}focus(){this.input.focus()}hasFocus(){return this.input===this.input.ownerDocument.activeElement}bindInput(ref){this.input=ref}onChange(event){this.props.onChange({value:event.target.value})}render(){const{value,isExpanded,instanceId,selectedSuggestionIndex,className,onChange,...props}=this.props,size=value?value.length+1:0;return(0,react.createElement)("input",(0,esm_extends.A)({ref:this.bindInput,id:`components-form-token-input-${instanceId}`,type:"text"},props,{value:value||"",onChange:onChange?this.onChange:void 0,size,className:classnames_default()(className,"components-form-token-field__input"),autoComplete:"off",role:"combobox","aria-expanded":isExpanded,"aria-autocomplete":"list","aria-owns":isExpanded?`components-form-token-suggestions-${instanceId}`:void 0,"aria-activedescendant":-1!==selectedSuggestionIndex?`components-form-token-suggestions-${instanceId}-${selectedSuggestionIndex}`:void 0,"aria-describedby":`components-form-token-suggestions-howto-${instanceId}`}))}}const token_input=TokenInput;var lib=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),lib_default=__webpack_require__.n(lib),create_higher_order_component=__webpack_require__("./node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js");const with_safe_timeout=(0,create_higher_order_component.A)((OriginalComponent=>class WrappedComponent extends react.Component{constructor(props){super(props),this.timeouts=[],this.setTimeout=this.setTimeout.bind(this),this.clearTimeout=this.clearTimeout.bind(this)}componentWillUnmount(){this.timeouts.forEach(clearTimeout)}setTimeout(fn,delay){const id=setTimeout((()=>{fn(),this.clearTimeout(id)}),delay);return this.timeouts.push(id),id}clearTimeout(id){clearTimeout(id),this.timeouts=(0,lodash.without)(this.timeouts,id)}render(){const props={...this.props,setTimeout:this.setTimeout,clearTimeout:this.clearTimeout};return(0,react.createElement)(OriginalComponent,props)}}),"withSafeTimeout");class SuggestionsList extends react.Component{constructor(){super(...arguments),this.handleMouseDown=this.handleMouseDown.bind(this),this.bindList=this.bindList.bind(this)}componentDidUpdate(){this.props.selectedIndex>-1&&this.props.scrollIntoView&&this.list.children[this.props.selectedIndex]&&(this.scrollingIntoView=!0,lib_default()(this.list.children[this.props.selectedIndex],this.list,{onlyScrollIfNeeded:!0}),this.props.setTimeout((()=>{this.scrollingIntoView=!1}),100))}bindList(ref){this.list=ref}handleHover(suggestion){return()=>{this.scrollingIntoView||this.props.onHover(suggestion)}}handleClick(suggestion){return()=>{this.props.onSelect(suggestion)}}handleMouseDown(e){e.preventDefault()}computeSuggestionMatch(suggestion){const match=this.props.displayTransform(this.props.match||"").toLocaleLowerCase();if(0===match.length)return null;const indexOfMatch=(suggestion=this.props.displayTransform(suggestion)).toLocaleLowerCase().indexOf(match);return{suggestionBeforeMatch:suggestion.substring(0,indexOfMatch),suggestionMatch:suggestion.substring(indexOfMatch,indexOfMatch+match.length),suggestionAfterMatch:suggestion.substring(indexOfMatch+match.length)}}render(){return(0,react.createElement)("ul",{ref:this.bindList,className:"components-form-token-field__suggestions-list",id:`components-form-token-suggestions-${this.props.instanceId}`,role:"listbox"},(0,lodash.map)(this.props.suggestions,((suggestion,index)=>{const match=this.computeSuggestionMatch(suggestion),classeName=classnames_default()("components-form-token-field__suggestion",{"is-selected":index===this.props.selectedIndex});return(0,react.createElement)("li",{id:`components-form-token-suggestions-${this.props.instanceId}-${index}`,role:"option",className:classeName,key:null!=suggestion&&suggestion.value?suggestion.value:this.props.displayTransform(suggestion),onMouseDown:this.handleMouseDown,onClick:this.handleClick(suggestion),onMouseEnter:this.handleHover(suggestion),"aria-selected":index===this.props.selectedIndex},match?(0,react.createElement)("span",{"aria-label":this.props.displayTransform(suggestion)},match.suggestionBeforeMatch,(0,react.createElement)("strong",{className:"components-form-token-field__suggestion-match"},match.suggestionMatch),match.suggestionAfterMatch):this.props.displayTransform(suggestion))})))}}SuggestionsList.defaultProps={match:"",onHover:()=>{},onSelect:()=>{},suggestions:Object.freeze([])};const suggestions_list=with_safe_timeout(SuggestionsList);var use_debounce=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-debounce/index.js"),a11y_build_module=__webpack_require__("./node_modules/@wordpress/a11y/build-module/index.js");const with_spoken_messages=(0,create_higher_order_component.A)((Component=>props=>(0,react.createElement)(Component,(0,esm_extends.A)({},props,{speak:a11y_build_module.L,debouncedSpeak:(0,use_debounce.A)(a11y_build_module.L,500)}))),"withSpokenMessages"),initialState={incompleteTokenValue:"",inputOffsetFromEnd:0,isActive:!1,isExpanded:!1,selectedSuggestionIndex:-1,selectedSuggestionScroll:!1};class FormTokenField extends react.Component{constructor(){super(...arguments),this.state=initialState,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.deleteTokenBeforeInput=this.deleteTokenBeforeInput.bind(this),this.deleteTokenAfterInput=this.deleteTokenAfterInput.bind(this),this.addCurrentToken=this.addCurrentToken.bind(this),this.onContainerTouched=this.onContainerTouched.bind(this),this.renderToken=this.renderToken.bind(this),this.onTokenClickRemove=this.onTokenClickRemove.bind(this),this.onSuggestionHovered=this.onSuggestionHovered.bind(this),this.onSuggestionSelected=this.onSuggestionSelected.bind(this),this.onInputChange=this.onInputChange.bind(this),this.bindInput=this.bindInput.bind(this),this.bindTokensAndInput=this.bindTokensAndInput.bind(this),this.updateSuggestions=this.updateSuggestions.bind(this)}componentDidUpdate(prevProps){this.state.isActive&&!this.input.hasFocus()&&this.input.focus();const{suggestions,value}=this.props,suggestionsDidUpdate=!(0,is_shallow_equal_build_module.Ay)(suggestions,prevProps.suggestions);(suggestionsDidUpdate||value!==prevProps.value)&&this.updateSuggestions(suggestionsDidUpdate)}static getDerivedStateFromProps(props,state){return props.disabled&&state.isActive?{isActive:!1,incompleteTokenValue:""}:null}bindInput(ref){this.input=ref}bindTokensAndInput(ref){this.tokensAndInput=ref}onFocus(event){const{__experimentalExpandOnFocus}=this.props;this.input.hasFocus()||event.target===this.tokensAndInput?this.setState({isActive:!0,isExpanded:!!__experimentalExpandOnFocus||this.state.isExpanded}):this.setState({isActive:!1}),"function"==typeof this.props.onFocus&&this.props.onFocus(event)}onBlur(){this.inputHasValidValue()?this.setState({isActive:!1}):this.setState(initialState)}onKeyDown(event){let preventDefault=!1;if(!event.defaultPrevented){switch(event.keyCode){case keycodes_build_module.G_:preventDefault=this.handleDeleteKey(this.deleteTokenBeforeInput);break;case keycodes_build_module.Fm:preventDefault=this.addCurrentToken();break;case keycodes_build_module.M3:preventDefault=this.handleLeftArrowKey();break;case keycodes_build_module.UP:preventDefault=this.handleUpArrowKey();break;case keycodes_build_module.NS:preventDefault=this.handleRightArrowKey();break;case keycodes_build_module.PX:preventDefault=this.handleDownArrowKey();break;case keycodes_build_module.SJ:preventDefault=this.handleDeleteKey(this.deleteTokenAfterInput);break;case keycodes_build_module.t6:this.props.tokenizeOnSpace&&(preventDefault=this.addCurrentToken());break;case keycodes_build_module._f:preventDefault=this.handleEscapeKey(event)}preventDefault&&event.preventDefault()}}onKeyPress(event){let preventDefault=!1;if(44===event.charCode)preventDefault=this.handleCommaKey();preventDefault&&event.preventDefault()}onContainerTouched(event){event.target===this.tokensAndInput&&this.state.isActive&&event.preventDefault()}onTokenClickRemove(event){this.deleteToken(event.value),this.input.focus()}onSuggestionHovered(suggestion){const index=this.getMatchingSuggestions().indexOf(suggestion);index>=0&&this.setState({selectedSuggestionIndex:index,selectedSuggestionScroll:!1})}onSuggestionSelected(suggestion){this.addNewToken(suggestion)}onInputChange(event){const text=event.value,separator=this.props.tokenizeOnSpace?/[ ,\t]+/:/[,\t]+/,items=text.split(separator),tokenValue=(0,lodash.last)(items)||"";items.length>1&&this.addNewTokens(items.slice(0,-1)),this.setState({incompleteTokenValue:tokenValue},this.updateSuggestions),this.props.onInputChange(tokenValue)}handleDeleteKey(deleteToken){let preventDefault=!1;return this.input.hasFocus()&&this.isInputEmpty()&&(deleteToken(),preventDefault=!0),preventDefault}handleLeftArrowKey(){let preventDefault=!1;return this.isInputEmpty()&&(this.moveInputBeforePreviousToken(),preventDefault=!0),preventDefault}handleRightArrowKey(){let preventDefault=!1;return this.isInputEmpty()&&(this.moveInputAfterNextToken(),preventDefault=!0),preventDefault}handleUpArrowKey(){return this.setState(((state,props)=>({selectedSuggestionIndex:(0===state.selectedSuggestionIndex?this.getMatchingSuggestions(state.incompleteTokenValue,props.suggestions,props.value,props.maxSuggestions,props.saveTransform).length:state.selectedSuggestionIndex)-1,selectedSuggestionScroll:!0}))),!0}handleDownArrowKey(){return this.setState(((state,props)=>({selectedSuggestionIndex:(state.selectedSuggestionIndex+1)%this.getMatchingSuggestions(state.incompleteTokenValue,props.suggestions,props.value,props.maxSuggestions,props.saveTransform).length,selectedSuggestionScroll:!0}))),!0}handleEscapeKey(event){return this.setState({incompleteTokenValue:event.target.value,isExpanded:!1,selectedSuggestionIndex:-1,selectedSuggestionScroll:!1}),!0}handleCommaKey(){return this.inputHasValidValue()&&this.addNewToken(this.state.incompleteTokenValue),!0}moveInputToIndex(index){this.setState(((state,props)=>({inputOffsetFromEnd:props.value.length-Math.max(index,-1)-1})))}moveInputBeforePreviousToken(){this.setState(((state,props)=>({inputOffsetFromEnd:Math.min(state.inputOffsetFromEnd+1,props.value.length)})))}moveInputAfterNextToken(){this.setState((state=>({inputOffsetFromEnd:Math.max(state.inputOffsetFromEnd-1,0)})))}deleteTokenBeforeInput(){const index=this.getIndexOfInput()-1;index>-1&&this.deleteToken(this.props.value[index])}deleteTokenAfterInput(){const index=this.getIndexOfInput();index<this.props.value.length&&(this.deleteToken(this.props.value[index]),this.moveInputToIndex(index))}addCurrentToken(){let preventDefault=!1;const selectedSuggestion=this.getSelectedSuggestion();return selectedSuggestion?(this.addNewToken(selectedSuggestion),preventDefault=!0):this.inputHasValidValue()&&(this.addNewToken(this.state.incompleteTokenValue),preventDefault=!0),preventDefault}addNewTokens(tokens){const tokensToAdd=(0,lodash.uniq)(tokens.map(this.props.saveTransform).filter(Boolean).filter((token=>!this.valueContainsToken(token))));if(tokensToAdd.length>0){const newValue=(0,lodash.clone)(this.props.value);newValue.splice.apply(newValue,[this.getIndexOfInput(),0].concat(tokensToAdd)),this.props.onChange(newValue)}}addNewToken(token){const{__experimentalExpandOnFocus,__experimentalValidateInput}=this.props;__experimentalValidateInput(token)?(this.addNewTokens([token]),this.props.speak(this.props.messages.added,"assertive"),this.setState({incompleteTokenValue:"",selectedSuggestionIndex:-1,selectedSuggestionScroll:!1,isExpanded:!__experimentalExpandOnFocus}),this.state.isActive&&this.input.focus()):this.props.speak(this.props.messages.__experimentalInvalid,"assertive")}deleteToken(token){const newTokens=this.props.value.filter((item=>this.getTokenValue(item)!==this.getTokenValue(token)));this.props.onChange(newTokens),this.props.speak(this.props.messages.removed,"assertive")}getTokenValue(token){return"object"==typeof token?token.value:token}getMatchingSuggestions(searchValue=this.state.incompleteTokenValue,suggestions=this.props.suggestions,value=this.props.value,maxSuggestions=this.props.maxSuggestions,saveTransform=this.props.saveTransform){let match=saveTransform(searchValue);const startsWithMatch=[],containsMatch=[];return 0===match.length?suggestions=(0,lodash.difference)(suggestions,value):(match=match.toLocaleLowerCase(),(0,lodash.each)(suggestions,(suggestion=>{const index=suggestion.toLocaleLowerCase().indexOf(match);-1===value.indexOf(suggestion)&&(0===index?startsWithMatch.push(suggestion):index>0&&containsMatch.push(suggestion))})),suggestions=startsWithMatch.concat(containsMatch)),(0,lodash.take)(suggestions,maxSuggestions)}getSelectedSuggestion(){if(-1!==this.state.selectedSuggestionIndex)return this.getMatchingSuggestions()[this.state.selectedSuggestionIndex]}valueContainsToken(token){return(0,lodash.some)(this.props.value,(item=>this.getTokenValue(token)===this.getTokenValue(item)))}getIndexOfInput(){return this.props.value.length-this.state.inputOffsetFromEnd}isInputEmpty(){return 0===this.state.incompleteTokenValue.length}inputHasValidValue(){return this.props.saveTransform(this.state.incompleteTokenValue).length>0}updateSuggestions(resetSelectedSuggestion=!0){const{__experimentalExpandOnFocus}=this.props,{incompleteTokenValue}=this.state,inputHasMinimumChars=incompleteTokenValue.trim().length>1,matchingSuggestions=this.getMatchingSuggestions(incompleteTokenValue),hasMatchingSuggestions=matchingSuggestions.length>0,newState={isExpanded:__experimentalExpandOnFocus||inputHasMinimumChars&&hasMatchingSuggestions};if(resetSelectedSuggestion&&(newState.selectedSuggestionIndex=-1,newState.selectedSuggestionScroll=!1),this.setState(newState),inputHasMinimumChars){const{debouncedSpeak}=this.props;debouncedSpeak(hasMatchingSuggestions?(0,build_module.nv)((0,build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",matchingSuggestions.length),matchingSuggestions.length):(0,build_module.__)("No results."),"assertive")}}renderTokensAndInput(){const components=(0,lodash.map)(this.props.value,this.renderToken);return components.splice(this.getIndexOfInput(),0,this.renderInput()),components}renderToken(token,index,tokens){const value=this.getTokenValue(token),status=token.status?token.status:void 0,termPosition=index+1,termsCount=tokens.length;return(0,react.createElement)(Token,{key:"token-"+value,value,status,title:token.title,displayTransform:this.props.displayTransform,onClickRemove:this.onTokenClickRemove,isBorderless:token.isBorderless||this.props.isBorderless,onMouseEnter:token.onMouseEnter,onMouseLeave:token.onMouseLeave,disabled:"error"!==status&&this.props.disabled,messages:this.props.messages,termsCount,termPosition})}renderInput(){const{autoCapitalize,autoComplete,maxLength,placeholder,value,instanceId}=this.props;let props={instanceId,autoCapitalize,autoComplete,placeholder:0===value.length?placeholder:"",ref:this.bindInput,key:"input",disabled:this.props.disabled,value:this.state.incompleteTokenValue,onBlur:this.onBlur,isExpanded:this.state.isExpanded,selectedSuggestionIndex:this.state.selectedSuggestionIndex};return maxLength&&value.length>=maxLength||(props={...props,onChange:this.onInputChange}),(0,react.createElement)(token_input,props)}render(){const{disabled,label=(0,build_module.__)("Add item"),instanceId,className,__experimentalShowHowTo}=this.props,{isExpanded}=this.state,classes=classnames_default()(className,"components-form-token-field__input-container",{"is-active":this.state.isActive,"is-disabled":disabled});let tokenFieldProps={className:"components-form-token-field",tabIndex:"-1"};const matchingSuggestions=this.getMatchingSuggestions();return disabled||(tokenFieldProps=Object.assign({},tokenFieldProps,{onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onFocus:this.onFocus})),(0,react.createElement)("div",tokenFieldProps,(0,react.createElement)("label",{htmlFor:`components-form-token-input-${instanceId}`,className:"components-form-token-field__label"},label),(0,react.createElement)("div",{ref:this.bindTokensAndInput,className:classes,tabIndex:"-1",onMouseDown:this.onContainerTouched,onTouchStart:this.onContainerTouched},this.renderTokensAndInput(),isExpanded&&(0,react.createElement)(suggestions_list,{instanceId,match:this.props.saveTransform(this.state.incompleteTokenValue),displayTransform:this.props.displayTransform,suggestions:matchingSuggestions,selectedIndex:this.state.selectedSuggestionIndex,scrollIntoView:this.state.selectedSuggestionScroll,onHover:this.onSuggestionHovered,onSelect:this.onSuggestionSelected})),__experimentalShowHowTo&&(0,react.createElement)("p",{id:`components-form-token-suggestions-howto-${instanceId}`,className:"components-form-token-field__help"},this.props.tokenizeOnSpace?(0,build_module.__)("Separate with commas, spaces, or the Enter key."):(0,build_module.__)("Separate with commas or the Enter key.")))}}FormTokenField.defaultProps={suggestions:Object.freeze([]),maxSuggestions:100,value:Object.freeze([]),displayTransform:lodash.identity,saveTransform:token=>token.trim(),onChange:()=>{},onInputChange:()=>{},isBorderless:!1,disabled:!1,tokenizeOnSpace:!1,messages:{added:(0,build_module.__)("Item added."),removed:(0,build_module.__)("Item removed."),remove:(0,build_module.__)("Remove item"),__experimentalInvalid:(0,build_module.__)("Invalid item")},__experimentalExpandOnFocus:!1,__experimentalValidateInput:()=>!0,__experimentalShowHowTo:!0};const form_token_field=with_spoken_messages((0,with_instance_id.A)(FormTokenField))},"./node_modules/@wordpress/components/build-module/gradient-picker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GradientPicker});var react=__webpack_require__("./node_modules/react/index.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),icon=__webpack_require__("./node_modules/@wordpress/icons/build-module/icon/index.js"),svg=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const library_check=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));var build_module_button=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js"),dropdown=__webpack_require__("./node_modules/@wordpress/components/build-module/dropdown/index.js"),tooltip=__webpack_require__("./node_modules/@wordpress/components/build-module/tooltip/index.js");function CircularOptionPicker({actions,className,options,children}){return(0,react.createElement)("div",{className:classnames_default()("components-circular-option-picker",className)},(0,react.createElement)("div",{className:"components-circular-option-picker__swatches"},options),children,actions&&(0,react.createElement)("div",{className:"components-circular-option-picker__custom-clear-wrapper"},actions))}CircularOptionPicker.Option=function Option({className,isSelected,selectedIconProps,tooltipText,...additionalProps}){const optionButton=(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({isPressed:isSelected,className:classnames_default()(className,"components-circular-option-picker__option")},additionalProps));return(0,react.createElement)("div",{className:"components-circular-option-picker__option-wrapper"},tooltipText?(0,react.createElement)(tooltip.A,{text:tooltipText},optionButton):optionButton,isSelected&&(0,react.createElement)(icon.A,(0,esm_extends.A)({icon:library_check},selectedIconProps||{})))},CircularOptionPicker.ButtonAction=function ButtonAction({className,children,...additionalProps}){return(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({className:classnames_default()("components-circular-option-picker__clear",className),isSmall:!0,variant:"secondary"},additionalProps),children)},CircularOptionPicker.DropdownLinkAction=function DropdownLinkAction({buttonProps,className,dropdownProps,linkText}){return(0,react.createElement)(dropdown.A,(0,esm_extends.A)({className:classnames_default()("components-circular-option-picker__dropdown-link-action",className),renderToggle:({isOpen,onToggle})=>(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,variant:"link"},buttonProps),linkText)},dropdownProps))};var context_connect=__webpack_require__("./node_modules/@wordpress/components/build-module/ui/context/context-connect.js"),component=__webpack_require__("./node_modules/@wordpress/components/build-module/view/component.js"),use_context_system=__webpack_require__("./node_modules/@wordpress/components/build-module/ui/context/use-context-system.js"),hook=__webpack_require__("./node_modules/@wordpress/components/build-module/flex/flex-item/hook.js");const flex_block_component=(0,context_connect.KZ)((function FlexBlock(props,forwardedRef){const flexBlockProps=function useFlexBlock(props){const otherProps=(0,use_context_system.A)(props,"FlexBlock");return(0,hook.K)({isBlock:!0,...otherProps})}(props);return(0,react.createElement)(component.A,(0,esm_extends.A)({},flexBlockProps,{ref:forwardedRef}))}),"FlexBlock");var flex_item_component=__webpack_require__("./node_modules/@wordpress/components/build-module/flex/flex-item/component.js"),input_control=__webpack_require__("./node_modules/@wordpress/components/build-module/input-control/index.js");const use_isomorphic_layout_effect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect;var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),flex_component=__webpack_require__("./node_modules/@wordpress/components/build-module/flex/flex/component.js"),colors_values=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/colors-values.js"),space=__webpack_require__("./node_modules/@wordpress/components/build-module/ui/utils/space.js"),config_values=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/config-values.js");const Root=(0,emotion_styled_base_browser_esm.A)(flex_component.A,{target:"e65ony43"})("margin-bottom:",(0,space.x)(2),";"),CircleRoot=(0,emotion_styled_base_browser_esm.A)("div",{target:"e65ony42"})("border-radius:50%;border:",config_values.A.borderWidth," solid ",colors_values.lm.ui.border,";box-sizing:border-box;cursor:grab;height:",32,"px;overflow:hidden;width:",32,"px;"),CircleIndicatorWrapper=(0,emotion_styled_base_browser_esm.A)("div",{target:"e65ony41"})({name:"1bhd2sw",styles:"box-sizing:border-box;position:relative;width:100%;height:100%"}),CircleIndicator=(0,emotion_styled_base_browser_esm.A)("div",{target:"e65ony40"})("background:#3858e9;border-radius:50%;border:",3,"px solid #3858e9;bottom:0;box-sizing:border-box;display:block;height:0px;left:0;margin:auto;position:absolute;right:0;top:-",16,"px;width:0px;");const angle_circle=function AngleCircle({value,onChange,...props}){const angleCircleRef=(0,react.useRef)(),angleCircleCenter=(0,react.useRef)(),previousCursorValue=(0,react.useRef)(),changeAngleToPosition=event=>{const{x:centerX,y:centerY}=angleCircleCenter.current,{ownerDocument}=angleCircleRef.current;event.preventDefault(),ownerDocument.activeElement.blur(),onChange(function getAngle(centerX,centerY,pointX,pointY){const y=pointY-centerY,x=pointX-centerX,angleInRadians=Math.atan2(y,x),angleInDeg=Math.round(angleInRadians*(180/Math.PI))+90;if(angleInDeg<0)return 360+angleInDeg;return angleInDeg}(centerX,centerY,event.clientX,event.clientY))},{startDrag,isDragging}=function useDragging({onDragStart,onDragMove,onDragEnd}){const[isDragging,setIsDragging]=(0,react.useState)(!1),eventsRef=(0,react.useRef)({onDragStart,onDragMove,onDragEnd});use_isomorphic_layout_effect((()=>{eventsRef.current.onDragStart=onDragStart,eventsRef.current.onDragMove=onDragMove,eventsRef.current.onDragEnd=onDragEnd}),[onDragStart,onDragMove,onDragEnd]);const onMouseMove=(0,react.useCallback)((event=>eventsRef.current.onDragMove&&eventsRef.current.onDragMove(event)),[]),endDrag=(0,react.useCallback)((event=>{eventsRef.current.onDragEnd&&eventsRef.current.onDragEnd(event),document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",endDrag),setIsDragging(!1)}),[]),startDrag=(0,react.useCallback)((event=>{eventsRef.current.onDragStart&&eventsRef.current.onDragStart(event),document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",endDrag),setIsDragging(!0)}),[]);return(0,react.useEffect)((()=>()=>{isDragging&&(document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",endDrag))}),[isDragging]),{startDrag,endDrag,isDragging}}({onDragStart:event=>{(()=>{const rect=angleCircleRef.current.getBoundingClientRect();angleCircleCenter.current={x:rect.x+rect.width/2,y:rect.y+rect.height/2}})(),changeAngleToPosition(event)},onDragMove:changeAngleToPosition,onDragEnd:changeAngleToPosition});return(0,react.useEffect)((()=>{isDragging?(void 0===previousCursorValue.current&&(previousCursorValue.current=document.body.style.cursor),document.body.style.cursor="grabbing"):(document.body.style.cursor=previousCursorValue.current||null,previousCursorValue.current=void 0)}),[isDragging]),(0,react.createElement)(CircleRoot,(0,esm_extends.A)({ref:angleCircleRef,onMouseDown:startDrag,className:"components-angle-picker-control__angle-circle",style:isDragging?{cursor:"grabbing"}:void 0},props),(0,react.createElement)(CircleIndicatorWrapper,{style:value?{transform:`rotate(${value}deg)`}:void 0,className:"components-angle-picker-control__angle-circle-indicator-wrapper"},(0,react.createElement)(CircleIndicator,{className:"components-angle-picker-control__angle-circle-indicator"})))};var text_component=__webpack_require__("./node_modules/@wordpress/components/build-module/text/component.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),use_cx=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/hooks/use-cx.js");const isDefined=o=>null!=o;const spacer_component=(0,context_connect.KZ)((function Spacer(props,forwardedRef){const spacerProps=function useSpacer(props){const{className,margin,marginBottom=2,marginLeft,marginRight,marginTop,marginX,marginY,padding,paddingBottom,paddingLeft,paddingRight,paddingTop,paddingX,paddingY,...otherProps}=(0,use_context_system.A)(props,"Spacer");return{...otherProps,className:(0,use_cx.l)()(isDefined(margin)&&(0,emotion_react_browser_esm.AH)("margin:",(0,space.x)(margin),";",""),isDefined(marginY)&&(0,emotion_react_browser_esm.AH)("margin-bottom:",(0,space.x)(marginY),";margin-top:",(0,space.x)(marginY),";",""),isDefined(marginX)&&(0,emotion_react_browser_esm.AH)("margin-left:",(0,space.x)(marginX),";margin-right:",(0,space.x)(marginX),";",""),isDefined(marginTop)&&(0,emotion_react_browser_esm.AH)("margin-top:",(0,space.x)(marginTop),";",""),isDefined(marginBottom)&&(0,emotion_react_browser_esm.AH)("margin-bottom:",(0,space.x)(marginBottom),";",""),isDefined(marginLeft)&&(0,emotion_react_browser_esm.AH)("margin-left:",(0,space.x)(marginLeft),";",""),isDefined(marginRight)&&(0,emotion_react_browser_esm.AH)("margin-right:",(0,space.x)(marginRight),";",""),isDefined(padding)&&(0,emotion_react_browser_esm.AH)("padding:",(0,space.x)(padding),";",""),isDefined(paddingY)&&(0,emotion_react_browser_esm.AH)("padding-bottom:",(0,space.x)(paddingY),";padding-top:",(0,space.x)(paddingY),";",""),isDefined(paddingX)&&(0,emotion_react_browser_esm.AH)("padding-left:",(0,space.x)(paddingX),";padding-right:",(0,space.x)(paddingX),";",""),isDefined(paddingTop)&&(0,emotion_react_browser_esm.AH)("padding-top:",(0,space.x)(paddingTop),";",""),isDefined(paddingBottom)&&(0,emotion_react_browser_esm.AH)("padding-bottom:",(0,space.x)(paddingBottom),";",""),isDefined(paddingLeft)&&(0,emotion_react_browser_esm.AH)("padding-left:",(0,space.x)(paddingLeft),";",""),isDefined(paddingRight)&&(0,emotion_react_browser_esm.AH)("padding-right:",(0,space.x)(paddingRight),";",""),className)}}(props);return(0,react.createElement)(component.A,(0,esm_extends.A)({},spacerProps,{ref:forwardedRef}))}),"Spacer");function AnglePickerControl({className,label=(0,build_module.__)("Angle"),onChange,value}){const classes=classnames_default()("components-angle-picker-control",className);return(0,react.createElement)(Root,{className:classes},(0,react.createElement)(flex_block_component,null,(0,react.createElement)(input_control.A,{label,className:"components-angle-picker-control__input-field",max:360,min:0,onChange:unprocessedValue=>{const inputValue=""!==unprocessedValue?parseInt(unprocessedValue,10):0;onChange(inputValue)},step:"1",value,hideHTMLArrows:!0,suffix:(0,react.createElement)(spacer_component,{as:text_component.A,marginRight:(0,space.x)(3),color:"blue"},"Â°")})),(0,react.createElement)(flex_item_component.A,{style:{marginLeft:(0,space.x)(4),marginBottom:(0,space.x)(1),marginTop:"auto"}},(0,react.createElement)(angle_circle,{"aria-hidden":"true",value,onChange})))}var use_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),plus=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/plus.js"),keycodes_build_module=__webpack_require__("./node_modules/@wordpress/keycodes/build-module/index.js"),color_picker=__webpack_require__("./node_modules/@wordpress/components/build-module/color-picker/index.js"),visually_hidden_component=__webpack_require__("./node_modules/@wordpress/components/build-module/visually-hidden/component.js");const COLOR_POPOVER_PROPS={className:"components-custom-gradient-picker__color-picker-popover",position:"top"},INSERT_POINT_WIDTH=16,MINIMUM_ABSOLUTE_LEFT_POSITION=5,MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT=10,KEYBOARD_CONTROL_POINT_VARIATION=MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT;function clampPercent(value){return Math.max(0,Math.min(100,value))}function updateControlPoint(points,index,newPoint){const newValue=points.slice();return newValue[index]=newPoint,newValue}function updateControlPointPosition(points,index,newPosition){if(function isOverlapping(value,initialIndex,newPosition,minDistance=0){const initialPosition=value[initialIndex].position,minPosition=Math.min(initialPosition,newPosition),maxPosition=Math.max(initialPosition,newPosition);return value.some((({position},index)=>index!==initialIndex&&(Math.abs(position-newPosition)<minDistance||minPosition<position&&position<maxPosition)))}(points,index,newPosition))return points;return updateControlPoint(points,index,{...points[index],position:newPosition})}function updateControlPointColor(points,index,newColor){return updateControlPoint(points,index,{...points[index],color:newColor})}function getHorizontalRelativeGradientPosition(mouseXCoordinate,containerElement,positionedElementWidth){if(!containerElement)return;const{x,width}=containerElement.getBoundingClientRect(),absolutePositionValue=mouseXCoordinate-x-MINIMUM_ABSOLUTE_LEFT_POSITION-positionedElementWidth/2,availableWidth=width-MINIMUM_ABSOLUTE_LEFT_POSITION-INSERT_POINT_WIDTH;return Math.round(clampPercent(100*absolutePositionValue/availableWidth))}function ControlPointButton({isOpen,position,color,...additionalProps}){const descriptionId=`components-custom-gradient-picker__control-point-button-description-${(0,use_instance_id.A)(ControlPointButton)}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({"aria-label":(0,build_module.nv)((0,build_module.__)("Gradient control point at position %1$s%% with color code %2$s."),position,color),"aria-describedby":descriptionId,"aria-haspopup":"true","aria-expanded":isOpen,className:classnames_default()("components-custom-gradient-picker__control-point-button",{"is-active":isOpen}),style:{left:`${position}%`}},additionalProps)),(0,react.createElement)(visually_hidden_component.A,{id:descriptionId},(0,build_module.__)("Use your left or right arrow keys or drag and drop with the mouse to change the gradient position. Press the button to change the color or remove the control point.")))}function ControlPoints({disableRemove,disableAlpha,gradientPickerDomRef,ignoreMarkerPosition,value:controlPoints,onChange,onStartControlPointChange,onStopControlPointChange}){const controlPointMoveState=(0,react.useRef)(),onMouseMove=event=>{const relativePosition=getHorizontalRelativeGradientPosition(event.clientX,gradientPickerDomRef.current,16),{initialPosition,index,significantMoveHappened}=controlPointMoveState.current;!significantMoveHappened&&Math.abs(initialPosition-relativePosition)>=5&&(controlPointMoveState.current.significantMoveHappened=!0),onChange(updateControlPointPosition(controlPoints,index,relativePosition))},cleanEventListeners=()=>{window&&window.removeEventListener&&controlPointMoveState.current&&controlPointMoveState.current.listenersActivated&&(window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",cleanEventListeners),onStopControlPointChange(),controlPointMoveState.current.listenersActivated=!1)};return(0,react.useEffect)((()=>()=>{cleanEventListeners()}),[]),controlPoints.map(((point,index)=>{const initialPosition=null==point?void 0:point.position;return ignoreMarkerPosition!==initialPosition&&(0,react.createElement)(dropdown.A,{key:index,onClose:onStopControlPointChange,renderToggle:({isOpen,onToggle})=>(0,react.createElement)(ControlPointButton,{key:index,onClick:()=>{controlPointMoveState.current&&controlPointMoveState.current.significantMoveHappened||(isOpen?onStopControlPointChange():onStartControlPointChange(),onToggle())},onMouseDown:()=>{window&&window.addEventListener&&(controlPointMoveState.current={initialPosition,index,significantMoveHappened:!1,listenersActivated:!0},onStartControlPointChange(),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",cleanEventListeners))},onKeyDown:event=>{event.keyCode===keycodes_build_module.M3?(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position-KEYBOARD_CONTROL_POINT_VARIATION)))):event.keyCode===keycodes_build_module.NS&&(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position+KEYBOARD_CONTROL_POINT_VARIATION))))},isOpen,position:point.position,color:point.color}),renderContent:({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(color_picker.A,{disableAlpha,color:point.color,onChangeComplete:({color})=>{onChange(updateControlPointColor(controlPoints,index,color.toRgbString()))}}),!disableRemove&&(0,react.createElement)(build_module_button.A,{className:"components-custom-gradient-picker__remove-control-point",onClick:()=>{onChange(function removeControlPoint(points,index){return points.filter(((point,pointIndex)=>pointIndex!==index))}(controlPoints,index)),onClose()},variant:"link"},(0,build_module.__)("Remove Control Point"))),popoverProps:COLOR_POPOVER_PROPS})}))}ControlPoints.InsertPoint=function InsertPoint({value:controlPoints,onChange,onOpenInserter,onCloseInserter,insertPosition,disableAlpha}){const[alreadyInsertedPoint,setAlreadyInsertedPoint]=(0,react.useState)(!1);return(0,react.createElement)(dropdown.A,{className:"components-custom-gradient-picker__inserter",onClose:()=>{onCloseInserter()},renderToggle:({isOpen,onToggle})=>(0,react.createElement)(build_module_button.A,{"aria-expanded":isOpen,"aria-haspopup":"true",onClick:()=>{isOpen?onCloseInserter():(setAlreadyInsertedPoint(!1),onOpenInserter()),onToggle()},className:"components-custom-gradient-picker__insert-point",icon:plus.A,style:{left:null!==insertPosition?`${insertPosition}%`:void 0}}),renderContent:()=>(0,react.createElement)(color_picker.A,{disableAlpha,onChangeComplete:({color})=>{alreadyInsertedPoint?onChange(function updateControlPointColorByPosition(points,position,newColor){const index=points.findIndex((point=>point.position===position));return updateControlPointColor(points,index,newColor)}(controlPoints,insertPosition,color.toRgbString())):(onChange(function addControlPoint(points,position,color){const nextIndex=points.findIndex((point=>point.position>position)),newPoint={color,position},newPoints=points.slice();return newPoints.splice(nextIndex-1,0,newPoint),newPoints}(controlPoints,insertPosition,color.toRgbString())),setAlreadyInsertedPoint(!0))}}),popoverProps:COLOR_POPOVER_PROPS})};const control_points=ControlPoints;function customGradientBarReducer(state,action){switch(action.type){case"MOVE_INSERTER":if("IDLE"===state.id||"MOVING_INSERTER"===state.id)return{id:"MOVING_INSERTER",insertPosition:action.insertPosition};break;case"STOP_INSERTER_MOVE":if("MOVING_INSERTER"===state.id)return{id:"IDLE"};break;case"OPEN_INSERTER":if("MOVING_INSERTER"===state.id)return{id:"INSERTING_CONTROL_POINT",insertPosition:state.insertPosition};break;case"CLOSE_INSERTER":if("INSERTING_CONTROL_POINT"===state.id)return{id:"IDLE"};break;case"START_CONTROL_CHANGE":if("IDLE"===state.id)return{id:"MOVING_CONTROL_POINT"};break;case"STOP_CONTROL_CHANGE":if("MOVING_CONTROL_POINT"===state.id)return{id:"IDLE"}}return state}const customGradientBarReducerInitialState={id:"IDLE"};function CustomGradientBar({background,hasGradient,value:controlPoints,onChange,disableInserter=!1,disableAlpha=!1}){const gradientPickerDomRef=(0,react.useRef)(),[gradientBarState,gradientBarStateDispatch]=(0,react.useReducer)(customGradientBarReducer,customGradientBarReducerInitialState),onMouseEnterAndMove=event=>{const insertPosition=getHorizontalRelativeGradientPosition(event.clientX,gradientPickerDomRef.current,INSERT_POINT_WIDTH);(0,lodash.some)(controlPoints,(({position})=>Math.abs(insertPosition-position)<MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT))?"MOVING_INSERTER"===gradientBarState.id&&gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"}):gradientBarStateDispatch({type:"MOVE_INSERTER",insertPosition})},isMovingInserter="MOVING_INSERTER"===gradientBarState.id,isInsertingControlPoint="INSERTING_CONTROL_POINT"===gradientBarState.id;return(0,react.createElement)("div",{ref:gradientPickerDomRef,className:classnames_default()("components-custom-gradient-picker__gradient-bar",{"has-gradient":hasGradient}),onMouseEnter:onMouseEnterAndMove,onMouseMove:onMouseEnterAndMove,style:{background},onMouseLeave:()=>{gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"})}},(0,react.createElement)("div",{className:"components-custom-gradient-picker__markers-container"},!disableInserter&&(isMovingInserter||isInsertingControlPoint)&&(0,react.createElement)(control_points.InsertPoint,{disableAlpha,insertPosition:gradientBarState.insertPosition,value:controlPoints,onChange,onOpenInserter:()=>{gradientBarStateDispatch({type:"OPEN_INSERTER"})},onCloseInserter:()=>{gradientBarStateDispatch({type:"CLOSE_INSERTER"})}}),(0,react.createElement)(control_points,{disableAlpha,disableRemove:disableInserter,gradientPickerDomRef,ignoreMarkerPosition:isInsertingControlPoint?gradientBarState.insertPosition:void 0,value:controlPoints,onChange,onStartControlPointChange:()=>{gradientBarStateDispatch({type:"START_CONTROL_CHANGE"})},onStopControlPointChange:()=>{gradientBarStateDispatch({type:"STOP_CONTROL_CHANGE"})}})))}var select_control=__webpack_require__("./node_modules/@wordpress/components/build-module/select-control/index.js"),node=__webpack_require__("./node_modules/gradient-parser/build/node.js"),r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return"string"==typeof r?r.length>0:"number"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u="deg"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},"hsl"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},"rgb"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},"hsl"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},"hsv"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return"string"==typeof r?N(r.trim(),y.string):"object"==typeof r&&null!==r?N(r,y.object):[null,void 0]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return t=(r=o(this.rgba)).r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):"","#"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return t=(r=o(this.rgba)).r,n=r.g,e=r.b,(u=r.a)<1?"rgba("+t+", "+n+", "+e+", "+u+")":"rgb("+t+", "+n+", "+e+")";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return t=(r=d(c(this.rgba))).h,n=r.s,e=r.l,(u=r.a)<1?"hsla("+t+", "+n+"%, "+e+"%, "+u+")":"hsl("+t+", "+n+"%, "+e+"%)";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return"number"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return"number"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[];const DEFAULT_GRADIENT="linear-gradient(135deg, rgba(6, 147, 227, 1) 0%, rgb(155, 81, 224) 100%)",HORIZONTAL_GRADIENT_ORIENTATION={type:"angular",value:90},GRADIENT_OPTIONS=[{value:"linear-gradient",label:(0,build_module.__)("Linear")},{value:"radial-gradient",label:(0,build_module.__)("Radial")}],DIRECTIONAL_ORIENTATION_ANGLE_MAP={top:0,"top right":45,"right top":45,right:90,"right bottom":135,"bottom right":135,bottom:180,"bottom left":225,"left bottom":225,left:270,"top left":315,"left top":315};function serializeGradientColorStop({type,value,length}){return`${function serializeGradientColor({type,value}){return"literal"===type?value:"hex"===type?`#${value}`:`${type}(${value.join(",")})`}({type,value})} ${function serializeGradientPosition(position){if(!position)return"";const{value,type}=position;return`${value}${type}`}(length)}`}function serializeGradient({type,orientation,colorStops}){const serializedOrientation=function serializeGradientOrientation(orientation){if(orientation&&"angular"===orientation.type)return`${orientation.value}deg`}(orientation),serializedColorStops=colorStops.sort(((colorStop1,colorStop2)=>(0,lodash.get)(colorStop1,["length","value"],0)-(0,lodash.get)(colorStop2,["length","value"],0))).map(serializeGradientColorStop);return`${type}(${(0,lodash.compact)([serializedOrientation,...serializedColorStops]).join(",")})`}function hasUnsupportedLength(item){return void 0===item.length||"%"!==item.length.type}function getStopCssColor(colorStop){switch(colorStop.type){case"hex":return`#${colorStop.value}`;case"literal":return colorStop.value;case"rgb":case"rgba":return`${colorStop.type}(${colorStop.value.join(",")})`;default:return"transparent"}}!function(r){r.forEach((function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))}))}([function names(e,f){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b="black";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}},f.string.push([function(f){var r=f.toLowerCase(),d="transparent"===r?"#0000":a[r];return d?new e(d).toRgb():null},"name"])}]);const SelectWrapper=(0,emotion_styled_base_browser_esm.A)(flex_block_component,{target:"e99xvul1"})({name:"1gvx10y",styles:"flex-grow:5"}),AccessoryWrapper=(0,emotion_styled_base_browser_esm.A)(flex_block_component,{target:"e99xvul0"})({name:"1gvx10y",styles:"flex-grow:5"}),GradientAnglePicker=({gradientAST,hasGradient,onChange})=>{const angle=(0,lodash.get)(gradientAST,["orientation","value"],180);return(0,react.createElement)(AnglePickerControl,{onChange:newAngle=>{onChange(serializeGradient({...gradientAST,orientation:{type:"angular",value:newAngle}}))},labelPosition:"top",value:hasGradient?angle:""})},GradientTypePicker=({gradientAST,hasGradient,onChange})=>{const{type}=gradientAST;return(0,react.createElement)(select_control.A,{className:"components-custom-gradient-picker__type-picker",label:(0,build_module.__)("Type"),labelPosition:"top",onChange:next=>{"linear-gradient"===next&&onChange(serializeGradient({...gradientAST,...gradientAST.orientation?{}:{orientation:HORIZONTAL_GRADIENT_ORIENTATION},type:"linear-gradient"})),"radial-gradient"===next&&onChange(serializeGradient({...(0,lodash.omit)(gradientAST,["orientation"]),type:"radial-gradient"}))},options:GRADIENT_OPTIONS,value:hasGradient&&type})};function CustomGradientPicker({value,onChange}){const gradientAST=function getGradientAstWithDefault(value){var _gradientAST$orientat;let gradientAST;try{gradientAST=node.parse(value)[0],gradientAST.value=value}catch(error){gradientAST=node.parse(DEFAULT_GRADIENT)[0],gradientAST.value=DEFAULT_GRADIENT}if("directional"===(null===(_gradientAST$orientat=gradientAST.orientation)||void 0===_gradientAST$orientat?void 0:_gradientAST$orientat.type)&&(gradientAST.orientation.type="angular",gradientAST.orientation.value=DIRECTIONAL_ORIENTATION_ANGLE_MAP[gradientAST.orientation.value].toString()),gradientAST.colorStops.some(hasUnsupportedLength)){const{colorStops}=gradientAST,step=100/(colorStops.length-1);colorStops.forEach(((stop,index)=>{stop.length={value:step*index,type:"%"}})),gradientAST.value=serializeGradient(gradientAST)}return gradientAST}(value),background=function getLinearGradientRepresentation(gradientAST){return serializeGradient({type:"linear-gradient",orientation:HORIZONTAL_GRADIENT_ORIENTATION,colorStops:gradientAST.colorStops})}(gradientAST),hasGradient=gradientAST.value!==DEFAULT_GRADIENT,controlPoints=gradientAST.colorStops.map((colorStop=>({color:getStopCssColor(colorStop),position:parseInt(colorStop.length.value)})));return(0,react.createElement)("div",{className:"components-custom-gradient-picker"},(0,react.createElement)(CustomGradientBar,{background,hasGradient,value:controlPoints,onChange:newControlPoints=>{onChange(serializeGradient(function getGradientAstWithControlPoints(gradientAST,newControlPoints){return{...gradientAST,colorStops:newControlPoints.map((({position,color})=>{const{r,g,b,a}=w(color).toRgb();return{length:{type:"%",value:position.toString()},type:a<1?"rgba":"rgb",value:a<1?[r,g,b,a]:[r,g,b]}}))}}(gradientAST,newControlPoints)))}}),(0,react.createElement)(flex_component.A,{gap:3,className:"components-custom-gradient-picker__ui-line"},(0,react.createElement)(SelectWrapper,null,(0,react.createElement)(GradientTypePicker,{gradientAST,hasGradient,onChange})),(0,react.createElement)(AccessoryWrapper,null,"linear-gradient"===gradientAST.type&&(0,react.createElement)(GradientAnglePicker,{gradientAST,hasGradient,onChange}))))}function GradientPicker({className,gradients,onChange,value,clearable=!0,disableCustomGradients=!1}){const clearGradient=(0,react.useCallback)((()=>onChange(void 0)),[onChange]),gradientOptions=(0,react.useMemo)((()=>(0,lodash.map)(gradients,(({gradient,name})=>(0,react.createElement)(CircularOptionPicker.Option,{key:gradient,value:gradient,isSelected:value===gradient,tooltipText:name||(0,build_module.nv)((0,build_module.__)("Gradient code: %s"),gradient),style:{color:"rgba( 0,0,0,0 )",background:gradient},onClick:value===gradient?clearGradient:()=>onChange(gradient),"aria-label":name?(0,build_module.nv)((0,build_module.__)("Gradient: %s"),name):(0,build_module.nv)((0,build_module.__)("Gradient code: %s"),gradient)})))),[gradients,value,onChange,clearGradient]);return(0,react.createElement)(CircularOptionPicker,{className,options:gradientOptions,actions:clearable&&(0,react.createElement)(CircularOptionPicker.ButtonAction,{onClick:clearGradient},(0,build_module.__)("Clear"))},!disableCustomGradients&&(0,react.createElement)(CustomGradientPicker,{value,onChange}))}},"./node_modules/@wordpress/components/build-module/menu-group/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js");const __WEBPACK_DEFAULT_EXPORT__=function MenuGroup(props){const{children,className="",label,hideSeparator}=props,instanceId=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__.A)(MenuGroup);if(!_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.Children.count(children))return null;const labelId=`components-menu-group-label-${instanceId}`,classNames=classnames__WEBPACK_IMPORTED_MODULE_0___default()(className,"components-menu-group",{"has-hidden-separator":hideSeparator});return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:classNames},label&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:"components-menu-group__label",id:labelId,"aria-hidden":"true"},label),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{role:"group","aria-labelledby":label?labelId:null},children))}},"./node_modules/@wordpress/components/build-module/menu-item/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),_shortcut__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@wordpress/components/build-module/shortcut/index.js"),_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js"),_icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@wordpress/components/build-module/icon/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((function MenuItem(props,ref){let{children,info,className,icon,iconPosition="right",shortcut,isSelected,role="menuitem",...buttonProps}=props;return className=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-menu-item__button",className),info&&(children=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("span",{className:"components-menu-item__info-wrapper"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("span",{className:"components-menu-item__item"},children),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("span",{className:"components-menu-item__info"},info))),icon&&!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(icon)&&(icon=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.cloneElement)(icon,{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-menu-items__item-icon",{"has-icon-right":"right"===iconPosition})})),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_button__WEBPACK_IMPORTED_MODULE_3__.A,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.A)({ref,"aria-checked":"menuitemcheckbox"===role||"menuitemradio"===role?isSelected:void 0,role,icon:"left"===iconPosition?icon:void 0,className},buttonProps),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("span",{className:"components-menu-item__item"},children),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_shortcut__WEBPACK_IMPORTED_MODULE_5__.A,{className:"components-menu-item__shortcut",shortcut}),icon&&"right"===iconPosition&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_6__.A,{icon}))}))},"./node_modules/@wordpress/components/build-module/panel/body.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>body});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),use_media_query=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-media-query/index.js");const use_reduced_motion=()=>(0,use_media_query.A)("(prefers-reduced-motion: reduce)");var use_merge_refs=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/index.js"),chevron_up=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/chevron-up.js"),chevron_down=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/chevron-down.js"),build_module_button=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js"),build_module_icon=__webpack_require__("./node_modules/@wordpress/components/build-module/icon/index.js"),use_controlled_state=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/hooks/use-controlled-state.js"),use_update_effect=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/hooks/use-update-effect.js");const PanelBodyTitle=(0,react.forwardRef)((({isOpened,icon,title,...props},ref)=>title?(0,react.createElement)("h2",{className:"components-panel__body-title"},(0,react.createElement)(build_module_button.A,(0,esm_extends.A)({className:"components-panel__body-toggle","aria-expanded":isOpened,ref},props),(0,react.createElement)("span",{"aria-hidden":"true"},(0,react.createElement)(build_module_icon.A,{className:"components-panel__arrow",icon:isOpened?chevron_up.A:chevron_down.A})),title,icon&&(0,react.createElement)(build_module_icon.A,{icon,className:"components-panel__icon",size:20}))):null)),ForwardedComponent=(0,react.forwardRef)((function PanelBody({buttonProps={},children,className,icon,initialOpen,onToggle=lodash.noop,opened,title,scrollAfterOpen=!0},ref){const[isOpened,setIsOpened]=(0,use_controlled_state.A)(opened,{initial:void 0===initialOpen||initialOpen}),nodeRef=(0,react.useRef)(),scrollBehavior=use_reduced_motion()?"auto":"smooth",scrollAfterOpenRef=(0,react.useRef)();scrollAfterOpenRef.current=scrollAfterOpen,(0,use_update_effect.A)((()=>{var _nodeRef$current;isOpened&&scrollAfterOpenRef.current&&null!==(_nodeRef$current=nodeRef.current)&&void 0!==_nodeRef$current&&_nodeRef$current.scrollIntoView&&nodeRef.current.scrollIntoView({inline:"nearest",block:"nearest",behavior:scrollBehavior})}),[isOpened,scrollBehavior]);const classes=classnames_default()("components-panel__body",className,{"is-opened":isOpened});return(0,react.createElement)("div",{className:classes,ref:(0,use_merge_refs.A)([nodeRef,ref])},(0,react.createElement)(PanelBodyTitle,(0,esm_extends.A)({icon,isOpened,onClick:event=>{event.preventDefault();const next=!isOpened;setIsOpened(next),onToggle(next)},title},buttonProps)),"function"==typeof children?children({opened:isOpened}):isOpened&&children)}));ForwardedComponent.displayName="PanelBody";const body=ForwardedComponent},"./node_modules/@wordpress/components/build-module/panel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>panel});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);const panel_header=function PanelHeader({label,children}){return(0,react.createElement)("div",{className:"components-panel__header"},label&&(0,react.createElement)("h2",null,label),children)};const panel=(0,react.forwardRef)((function Panel({header,className,children},ref){const classNames=classnames_default()(className,"components-panel");return(0,react.createElement)("div",{className:classNames,ref},header&&(0,react.createElement)(panel_header,{label:header}),children)}))},"./node_modules/@wordpress/components/build-module/panel/row.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((({className,children},ref)=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-panel__row",className),ref},children)))},"./node_modules/@wordpress/components/build-module/placeholder/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-resize-observer/index.js"),_icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@wordpress/components/build-module/icon/index.js");const __WEBPACK_DEFAULT_EXPORT__=function Placeholder({icon,children,label,instructions,className,notices,preview,isColumnLayout,...additionalProps}){const[resizeListener,{width}]=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__.A)();let modifierClassNames;"number"==typeof width&&(modifierClassNames={"is-large":width>=480,"is-medium":width>=160&&width<480,"is-small":width<160});const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-placeholder",className,modifierClassNames),fieldsetClasses=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-placeholder__fieldset",{"is-column-layout":isColumnLayout});return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.A)({},additionalProps,{className:classes}),resizeListener,notices,preview&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:"components-placeholder__preview"},preview),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:"components-placeholder__label"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_4__.A,{icon}),label),!!instructions&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:"components-placeholder__instructions"},instructions),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:fieldsetClasses},children))}},"./node_modules/@wordpress/components/build-module/select-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>select_control});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),use_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),icon=__webpack_require__("./node_modules/@wordpress/icons/build-module/icon/index.js"),chevron_down=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/chevron-down.js"),base_control=__webpack_require__("./node_modules/@wordpress/components/build-module/base-control/index.js"),input_base=__webpack_require__("./node_modules/@wordpress/components/build-module/input-control/input-base.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),colors_values=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/colors-values.js"),rtl=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/rtl.js");const Select=(0,emotion_styled_base_browser_esm.A)("select",{target:"e1mv6sxx1"})("&&&{appearance:none;background:transparent;box-sizing:border-box;border:none;box-shadow:none!important;color:",colors_values.lm.black,";display:block;margin:0;width:100%;",(({disabled})=>disabled?(0,emotion_react_browser_esm.AH)({color:colors_values.lm.ui.textDisabled},"",""):""),";",(({selectSize})=>{const fontSize={default:"13px",small:"11px"}[selectSize];return fontSize?(0,emotion_react_browser_esm.AH)("font-size:","16px",";@media ( min-width: 600px ){font-size:",fontSize,";}",""):""}),";",(({selectSize})=>{const sizes={default:{height:30,lineHeight:1,minHeight:30},small:{height:24,lineHeight:1,minHeight:24}},style=sizes[selectSize]||sizes.default;return(0,emotion_react_browser_esm.AH)(style,"","")}),";",(0,rtl.h)({paddingLeft:8,paddingRight:24}),";}"),DownArrowWrapper=(0,emotion_styled_base_browser_esm.A)("div",{target:"e1mv6sxx0"})("align-items:center;bottom:0;box-sizing:border-box;display:flex;padding:0 4px;pointer-events:none;position:absolute;top:0;",(0,rtl.h)({right:0})," svg{display:block;}");function SelectControl({className,disabled=!1,help,hideLabelFromVision,id:idProp,label,multiple=!1,onBlur=lodash.noop,onChange=lodash.noop,onFocus=lodash.noop,options=[],size="default",value:valueProp,labelPosition="top",prefix,suffix,...props},ref){const[isFocused,setIsFocused]=(0,react.useState)(!1),id=function useUniqueId(idProp){const instanceId=(0,use_instance_id.A)(SelectControl);return idProp||`inspector-select-control-${instanceId}`}(idProp),helpId=help?`${id}__help`:void 0;if((0,lodash.isEmpty)(options))return null;const classes=classnames_default()("components-select-control",className);return(0,react.createElement)(base_control.A,{help,id},(0,react.createElement)(input_base.A,{className:classes,disabled,hideLabelFromVision,id,isFocused,label,size,suffix:suffix||(0,react.createElement)(DownArrowWrapper,null,(0,react.createElement)(icon.A,{icon:chevron_down.A,size:18})),prefix,labelPosition},(0,react.createElement)(Select,(0,esm_extends.A)({},props,{"aria-describedby":helpId,className:"components-select-control__input",disabled,id,multiple,onBlur:event=>{onBlur(event),setIsFocused(!1)},onChange:event=>{if(multiple){const newValues=Array.from(event.target.options).filter((({selected})=>selected)).map((({value})=>value));onChange(newValues)}else onChange(event.target.value,{event})},onFocus:event=>{onFocus(event),setIsFocused(!0)},ref,selectSize:size,value:valueProp}),options.map(((option,index)=>{const key=option.id||`${option.label}-${option.value}-${index}`;return(0,react.createElement)("option",{key,value:option.value,disabled:option.disabled},option.label)})))))}const select_control=(0,react.forwardRef)(SelectControl)},"./node_modules/@wordpress/components/build-module/text-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),_base_control__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@wordpress/components/build-module/base-control/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function TextControl({label,hideLabelFromVision,value,help,className,onChange,type="text",...props},ref){const id=`inspector-text-control-${(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__.A)(TextControl)}`;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_2__.A,{label,hideLabelFromVision,id,help,className},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("input",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.A)({className:"components-text-control__input",type,id,value,onChange:event=>onChange(event.target.value),"aria-describedby":help?id+"__help":void 0,ref},props)))}))},"./node_modules/@wordpress/components/build-module/textarea-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>TextareaControl});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),use_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),base_control=__webpack_require__("./node_modules/@wordpress/components/build-module/base-control/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),colors_values=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/config-values.js");const inputStyleNeutral=(0,emotion_react_browser_esm.AH)("box-shadow:0 0 0 transparent;transition:box-shadow 0.1s linear;border-radius:",config_values.A.radiusBlockUi,";border:",config_values.A.borderWidth," solid ",colors_values.lm.ui.border,";",""),inputStyleFocus=(0,emotion_react_browser_esm.AH)("border-color:var( --wp-admin-theme-color );box-shadow:0 0 0 calc( ",config_values.A.borderWidthFocus," - ",config_values.A.borderWidth," ) var( --wp-admin-theme-color );outline:2px solid transparent;","");var font=__webpack_require__("./node_modules/@wordpress/components/build-module/utils/font.js");const breakpoint_values={huge:"1440px",wide:"1280px","x-large":"1080px",large:"960px",medium:"782px",small:"600px",mobile:"480px","zoomed-in":"280px"},inputControl=(0,emotion_react_browser_esm.AH)("font-family:",(0,font.g)("default.fontFamily"),";padding:6px 8px;",inputStyleNeutral,";font-size:",(0,font.g)("mobileTextMinFontSize"),";line-height:normal;",`@media (min-width: ${breakpoint_values["small"]})`,"{font-size:",(0,font.g)("default.fontSize"),";line-height:normal;}&:focus{",inputStyleFocus,";}&::-webkit-input-placeholder{color:",colors_values.lm.darkGray.placeholder,";}&::-moz-placeholder{opacity:1;color:",colors_values.lm.darkGray.placeholder,";}&:-ms-input-placeholder{color:",colors_values.lm.darkGray.placeholder,";}.is-dark-theme &{&::-webkit-input-placeholder{color:",colors_values.lm.lightGray.placeholder,";}&::-moz-placeholder{opacity:1;color:",colors_values.lm.lightGray.placeholder,";}&:-ms-input-placeholder{color:",colors_values.lm.lightGray.placeholder,";}}","");const StyledTextarea=(0,emotion_styled_base_browser_esm.A)("textarea",{target:"ebk7yr50"})("width:100%;",inputControl,";");function TextareaControl({label,hideLabelFromVision,value,help,onChange,rows=4,className,...props}){const id=`inspector-textarea-control-${(0,use_instance_id.A)(TextareaControl)}`;return(0,react.createElement)(base_control.A,{label,hideLabelFromVision,id,help,className},(0,react.createElement)(StyledTextarea,(0,esm_extends.A)({className:"components-textarea-control__input",id,rows,onChange:event=>onChange(event.target.value),"aria-describedby":help?id+"__help":void 0,value},props)))}},"./node_modules/@wordpress/components/build-module/toggle-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ToggleControl});var react=__webpack_require__("./node_modules/react/index.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),use_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");const form_toggle=function FormToggle({className,checked,id,disabled,onChange=lodash.noop,...props}){const wrapperClasses=classnames_default()("components-form-toggle",className,{"is-checked":checked,"is-disabled":disabled});return(0,react.createElement)("span",{className:wrapperClasses},(0,react.createElement)("input",(0,esm_extends.A)({className:"components-form-toggle__input",id,type:"checkbox",checked,onChange,disabled},props)),(0,react.createElement)("span",{className:"components-form-toggle__track"}),(0,react.createElement)("span",{className:"components-form-toggle__thumb"}))};var base_control=__webpack_require__("./node_modules/@wordpress/components/build-module/base-control/index.js");function ToggleControl({label,checked,help,className,onChange,disabled}){const id=`inspector-toggle-control-${(0,use_instance_id.A)(ToggleControl)}`;let describedBy,helpLabel;return help&&(describedBy=id+"__help",helpLabel=(0,lodash.isFunction)(help)?help(checked):help),(0,react.createElement)(base_control.A,{id,help:helpLabel,className:classnames_default()("components-toggle-control",className)},(0,react.createElement)(form_toggle,{id,checked,onChange:function onChangeToggle(event){onChange(event.target.checked)},"aria-describedby":describedBy,disabled}),(0,react.createElement)("label",{htmlFor:id,className:"components-toggle-control__label"},label))}},"./node_modules/@wordpress/compose/build-module/higher-order/with-instance-id/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_0__.A)((WrappedComponent=>props=>{const instanceId=(0,_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_1__.A)(WrappedComponent);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(WrappedComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.A)({},props,{instanceId}))}),"withInstanceId")},"./node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js");const __WEBPACK_DEFAULT_EXPORT__=function createHigherOrderComponent(mapComponent,modifierName){return Inner=>{const Outer=mapComponent(Inner),displayName=Inner.displayName||Inner.name||"Component";return Outer.displayName=`${(0,lodash__WEBPACK_IMPORTED_MODULE_0__.upperFirst)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.camelCase)(modifierName))}(${displayName})`,Outer}}},"./node_modules/@wordpress/icons/build-module/icon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function Icon({icon,size=24,...props}){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(icon,{width:size,height:size,...props})}},"./node_modules/@wordpress/icons/build-module/library/chevron-down.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}))},"./node_modules/@wordpress/icons/build-module/library/chevron-up.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}))},"./node_modules/@wordpress/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}))},"./node_modules/@wordpress/icons/build-module/library/globe.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"}))},"./node_modules/@wordpress/icons/build-module/library/plus.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}))},"./node_modules/@wordpress/is-shallow-equal/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isShallowEqual(a,b){if(a&&b){if(a.constructor===Object&&b.constructor===Object)return function isShallowEqualObjects(a,b){if(a===b)return!0;const aKeys=Object.keys(a),bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return!1;let i=0;for(;i<aKeys.length;){const key=aKeys[i],aValue=a[key];if(void 0===aValue&&!b.hasOwnProperty(key)||aValue!==b[key])return!1;i++}return!0}(a,b);if(Array.isArray(a)&&Array.isArray(b))return function isShallowEqualArrays(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(let i=0,len=a.length;i<len;i++)if(a[i]!==b[i])return!1;return!0}(a,b)}return a===b}__webpack_require__.d(__webpack_exports__,{Ay:()=>isShallowEqual})},"./node_modules/@wordpress/media-utils/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>media_upload});var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js");const{wp}=window,DEFAULT_EMPTY_GALLERY=[],getFeaturedImageMediaFrame=()=>wp.media.view.MediaFrame.Select.extend({featuredImageToolbar(toolbar){this.createSelectToolbar(toolbar,{text:wp.media.view.l10n.setFeaturedImage,state:this.options.state})},editState(){const selection=this.state("featured-image").get("selection"),view=new wp.media.view.EditImage({model:selection.single(),controller:this}).render();this.content.set(view),view.loadEditor()},createStates:function createStates(){this.on("toolbar:create:featured-image",this.featuredImageToolbar,this),this.on("content:render:edit-image",this.editState,this),this.states.add([new wp.media.controller.FeaturedImage,new wp.media.controller.EditImage({model:this.options.editImage})])}}),getGalleryDetailsMediaFrame=()=>wp.media.view.MediaFrame.Post.extend({galleryToolbar(){const editing=this.state().get("editing");this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:editing?wp.media.view.l10n.updateGallery:wp.media.view.l10n.insertGallery,priority:80,requires:{library:!0},click(){const controller=this.controller,state=controller.state();controller.close(),state.trigger("update",state.get("library")),controller.setState(controller.options.state),controller.reset()}}}}))},editState(){const selection=this.state("gallery").get("selection"),view=new wp.media.view.EditImage({model:selection.single(),controller:this}).render();this.content.set(view),view.loadEditor()},createStates:function createStates(){this.on("toolbar:create:main-gallery",this.galleryToolbar,this),this.on("content:render:edit-image",this.editState,this),this.states.add([new wp.media.controller.Library({id:"gallery",title:wp.media.view.l10n.createGalleryTitle,priority:40,toolbar:"main-gallery",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query((0,lodash.defaults)({type:"image"},this.options.library))}),new wp.media.controller.EditImage({model:this.options.editImage}),new wp.media.controller.GalleryEdit({library:this.options.selection,editing:this.options.editing,menu:"gallery",displaySettings:!1,multiple:!0}),new wp.media.controller.GalleryAdd])}}),slimImageObject=img=>(0,lodash.pick)(img,["sizes","mime","type","subtype","id","url","alt","link","caption"]),getAttachmentsCollection=ids=>wp.media.query({order:"ASC",orderby:"post__in",post__in:ids,posts_per_page:-1,query:!0,type:"image"});class MediaUpload extends react.Component{constructor({allowedTypes,gallery=!1,unstableFeaturedImageFlow=!1,modalClass,multiple=!1,title=(0,build_module.__)("Select or Upload Media")}){if(super(...arguments),this.openModal=this.openModal.bind(this),this.onOpen=this.onOpen.bind(this),this.onSelect=this.onSelect.bind(this),this.onUpdate=this.onUpdate.bind(this),this.onClose=this.onClose.bind(this),gallery)this.buildAndSetGalleryFrame();else{const frameConfig={title,multiple};allowedTypes&&(frameConfig.library={type:allowedTypes}),this.frame=wp.media(frameConfig)}modalClass&&this.frame.$el.addClass(modalClass),unstableFeaturedImageFlow&&this.buildAndSetFeatureImageFrame(),this.initializeListeners()}initializeListeners(){this.frame.on("select",this.onSelect),this.frame.on("update",this.onUpdate),this.frame.on("open",this.onOpen),this.frame.on("close",this.onClose)}buildAndSetGalleryFrame(){const{addToGallery=!1,allowedTypes,multiple=!1,value=DEFAULT_EMPTY_GALLERY}=this.props;if(value===this.lastGalleryValue)return;let currentState;this.lastGalleryValue=value,this.frame&&this.frame.remove(),currentState=addToGallery?"gallery-library":value&&value.length?"gallery-edit":"gallery",this.GalleryDetailsMediaFrame||(this.GalleryDetailsMediaFrame=getGalleryDetailsMediaFrame());const attachments=getAttachmentsCollection(value),selection=new wp.media.model.Selection(attachments.models,{props:attachments.props.toJSON(),multiple});this.frame=new this.GalleryDetailsMediaFrame({mimeType:allowedTypes,state:currentState,multiple,selection,editing:!(!value||!value.length)}),wp.media.frame=this.frame,this.initializeListeners()}buildAndSetFeatureImageFrame(){const featuredImageFrame=getFeaturedImageMediaFrame(),attachments=getAttachmentsCollection(this.props.value),selection=new wp.media.model.Selection(attachments.models,{props:attachments.props.toJSON()});this.frame=new featuredImageFrame({mimeType:this.props.allowedTypes,state:"featured-image",multiple:this.props.multiple,selection,editing:!!this.props.value}),wp.media.frame=this.frame}componentWillUnmount(){this.frame.remove()}onUpdate(selections){const{onSelect,multiple=!1}=this.props,state=this.frame.state(),selectedImages=selections||state.get("selection");selectedImages&&selectedImages.models.length&&onSelect(multiple?selectedImages.models.map((model=>slimImageObject(model.toJSON()))):slimImageObject(selectedImages.models[0].toJSON()))}onSelect(){const{onSelect,multiple=!1}=this.props,attachment=this.frame.state().get("selection").toJSON();onSelect(multiple?attachment:attachment[0])}onOpen(){var _this$props$value;this.updateCollection();if(!(Array.isArray(this.props.value)?!(null===(_this$props$value=this.props.value)||void 0===_this$props$value||!_this$props$value.length):!!this.props.value))return;const isGallery=this.props.gallery,selection=this.frame.state().get("selection");isGallery||(0,lodash.castArray)(this.props.value).forEach((id=>{selection.add(wp.media.attachment(id))}));const attachments=getAttachmentsCollection((0,lodash.castArray)(this.props.value));attachments.more().done((function(){var _attachments$models;isGallery&&null!=attachments&&null!==(_attachments$models=attachments.models)&&void 0!==_attachments$models&&_attachments$models.length&&selection.add(attachments.models)}))}onClose(){const{onClose}=this.props;onClose&&onClose()}updateCollection(){const frameContent=this.frame.content.get();if(frameContent&&frameContent.collection){const collection=frameContent.collection;collection.toArray().forEach((model=>model.trigger("destroy",model))),collection.mirroring._hasMore=!0,collection.more()}}openModal(){this.props.gallery&&this.buildAndSetGalleryFrame(),this.frame.open()}render(){return this.props.render({open:this.openModal})}}const media_upload=MediaUpload;const nonce=function createNonceMiddleware(nonce){const middleware=(options,next)=>{const{headers={}}=options;for(const headerName in headers)if("x-wp-nonce"===headerName.toLowerCase()&&headers[headerName]===middleware.nonce)return next(options);return next({...options,headers:{...headers,"X-WP-Nonce":middleware.nonce}})};return middleware.nonce=nonce,middleware},namespace_endpoint=(options,next)=>{let namespaceTrimmed,endpointTrimmed,path=options.path;return"string"==typeof options.namespace&&"string"==typeof options.endpoint&&(namespaceTrimmed=options.namespace.replace(/^\/|\/$/g,""),endpointTrimmed=options.endpoint.replace(/^\//,""),path=endpointTrimmed?namespaceTrimmed+"/"+endpointTrimmed:namespaceTrimmed),delete options.namespace,delete options.endpoint,next({...options,path})},root_url=rootURL=>(options,next)=>namespace_endpoint(options,(optionsWithPath=>{let apiRoot,url=optionsWithPath.url,path=optionsWithPath.path;return"string"==typeof path&&(apiRoot=rootURL,-1!==rootURL.indexOf("?")&&(path=path.replace("?","&")),path=path.replace(/^\//,""),"string"==typeof apiRoot&&-1!==apiRoot.indexOf("?")&&(path=path.replace("?","&")),url=apiRoot+path),next({...optionsWithPath,url})}));function getStablePath(path){const splitted=path.split("?"),query=splitted[1],base=splitted[0];return query?base+"?"+query.split("&").map((entry=>entry.split("="))).sort(((a,b)=>a[0].localeCompare(b[0]))).map((pair=>pair.join("="))).join("&"):base}const preloading=function createPreloadingMiddleware(preloadedData){const cache=Object.keys(preloadedData).reduce(((result,path)=>(result[getStablePath(path)]=preloadedData[path],result)),{});return(options,next)=>{const{parse=!0}=options;if("string"==typeof options.path){const method=options.method||"GET",path=getStablePath(options.path);if("GET"===method&&cache[path]){const cacheData=cache[path];return delete cache[path],Promise.resolve(parse?cacheData.body:new window.Response(JSON.stringify(cacheData.body),{status:200,statusText:"OK",headers:cacheData.headers}))}if("OPTIONS"===method&&cache[method]&&cache[method][path])return Promise.resolve(parse?cache[method][path].body:cache[method][path])}return next(options)}};function getQueryArgs(url){return(function getQueryString(url){let query;try{query=new URL(url,"http://example.com").search.substring(1)}catch(error){}if(query)return query}(url)||"").replace(/\+/g,"%20").split("&").reduce(((accumulator,keyValue)=>{const[key,value=""]=keyValue.split("=").filter(Boolean).map(decodeURIComponent);if(key){!function setPath(object,path,value){const length=path.length,lastIndex=length-1;for(let i=0;i<length;i++){let key=path[i];!key&&Array.isArray(object)&&(key=object.length.toString());const isNextKeyArrayIndex=!isNaN(Number(path[i+1]));object[key]=i===lastIndex?value:object[key]||(isNextKeyArrayIndex?[]:{}),Array.isArray(object[key])&&!isNextKeyArrayIndex&&(object[key]={...object[key]}),object=object[key]}}(accumulator,key.replace(/\]/g,"").split("["),value)}return accumulator}),{})}function addQueryArgs(url="",args){if(!args||!Object.keys(args).length)return url;let baseUrl=url;const queryStringIndex=url.indexOf("?");return-1!==queryStringIndex&&(args=Object.assign(getQueryArgs(url),args),baseUrl=baseUrl.substr(0,queryStringIndex)),baseUrl+"?"+function buildQueryString(data){let string="";const stack=Object.entries(data);let pair;for(;pair=stack.shift();){let[key,value]=pair;if(Array.isArray(value)||value&&value.constructor===Object){const valuePairs=Object.entries(value).reverse();for(const[member,memberValue]of valuePairs)stack.unshift([`${key}[${member}]`,memberValue])}else void 0!==value&&(null===value&&(value=""),string+="&"+[key,value].map(encodeURIComponent).join("="))}return string.substr(1)}(args)}const modifyQuery=({path,url,...options},queryArgs)=>({...options,url:url&&addQueryArgs(url,queryArgs),path:path&&addQueryArgs(path,queryArgs)}),parseResponse=response=>response.json?response.json():Promise.reject(response),getNextPageUrl=response=>{const{next}=(linkHeader=>{if(!linkHeader)return{};const match=linkHeader.match(/<([^>]+)>; rel="next"/);return match?{next:match[1]}:{}})(response.headers.get("link"));return next},fetch_all_middleware=async(options,next)=>{if(!1===options.parse)return next(options);if(!(options=>{const pathIsUnbounded=!!options.path&&-1!==options.path.indexOf("per_page=-1"),urlIsUnbounded=!!options.url&&-1!==options.url.indexOf("per_page=-1");return pathIsUnbounded||urlIsUnbounded})(options))return next(options);const response=await api_fetch_build_module({...modifyQuery(options,{per_page:100}),parse:!1}),results=await parseResponse(response);if(!Array.isArray(results))return results;let nextPage=getNextPageUrl(response);if(!nextPage)return results;let mergedResults=[].concat(results);for(;nextPage;){const nextResponse=await api_fetch_build_module({...options,path:void 0,url:nextPage,parse:!1}),nextResults=await parseResponse(nextResponse);mergedResults=mergedResults.concat(nextResults),nextPage=getNextPageUrl(nextResponse)}return mergedResults},OVERRIDE_METHODS=new Set(["PATCH","PUT","DELETE"]),DEFAULT_METHOD="GET";function hasQueryArg(url,arg){return void 0!==function getQueryArg(url,arg){return getQueryArgs(url)[arg]}(url,arg)}const parseResponseAndNormalizeError=(response,shouldParseResponse=!0)=>Promise.resolve(((response,shouldParseResponse=!0)=>shouldParseResponse?204===response.status?null:response.json?response.json():Promise.reject(response):response)(response,shouldParseResponse)).catch((res=>parseAndThrowError(res,shouldParseResponse)));function parseAndThrowError(response,shouldParseResponse=!0){if(!shouldParseResponse)throw response;return(response=>{const invalidJsonError={code:"invalid_json",message:(0,build_module.__)("The response is not a valid JSON response.")};if(!response||!response.json)throw invalidJsonError;return response.json().catch((()=>{throw invalidJsonError}))})(response).then((error=>{const unknownError={code:"unknown_error",message:(0,build_module.__)("An unknown error occurred.")};throw error||unknownError}))}const middlewares_media_upload=(options,next)=>{if(!function isMediaUploadRequest(options){const isCreateMethod=!!options.method&&"POST"===options.method;return(!!options.path&&-1!==options.path.indexOf("/wp/v2/media")||!!options.url&&-1!==options.url.indexOf("/wp/v2/media"))&&isCreateMethod}(options))return next(options);let retries=0;const postProcess=attachmentId=>(retries++,next({path:`/wp/v2/media/${attachmentId}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>retries<5?postProcess(attachmentId):(next({path:`/wp/v2/media/${attachmentId}?force=true`,method:"DELETE"}),Promise.reject()))));return next({...options,parse:!1}).catch((response=>{const attachmentId=response.headers.get("x-wp-upload-attachment-id");return response.status>=500&&response.status<600&&attachmentId?postProcess(attachmentId).catch((()=>!1!==options.parse?Promise.reject({code:"post_process",message:(0,build_module.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(response))):parseAndThrowError(response,options.parse)})).then((response=>parseResponseAndNormalizeError(response,options.parse)))},DEFAULT_HEADERS={Accept:"application/json, */*;q=0.1"},DEFAULT_OPTIONS={credentials:"include"},middlewares=[(options,next)=>("string"!=typeof options.url||hasQueryArg(options.url,"_locale")||(options.url=addQueryArgs(options.url,{_locale:"user"})),"string"!=typeof options.path||hasQueryArg(options.path,"_locale")||(options.path=addQueryArgs(options.path,{_locale:"user"})),next(options)),namespace_endpoint,(options,next)=>{const{method=DEFAULT_METHOD}=options;return OVERRIDE_METHODS.has(method.toUpperCase())&&(options={...options,headers:{...options.headers,"X-HTTP-Method-Override":method,"Content-Type":"application/json"},method:"POST"}),next(options)},fetch_all_middleware];const checkStatus=response=>{if(response.status>=200&&response.status<300)return response;throw response};let fetchHandler=nextOptions=>{const{url,path,data,parse=!0,...remainingOptions}=nextOptions;let{body,headers}=nextOptions;headers={...DEFAULT_HEADERS,...headers},data&&(body=JSON.stringify(data),headers["Content-Type"]="application/json");return window.fetch(url||path||window.location.href,{...DEFAULT_OPTIONS,...remainingOptions,body,headers}).then((value=>Promise.resolve(value).then(checkStatus).catch((response=>parseAndThrowError(response,parse))).then((response=>parseResponseAndNormalizeError(response,parse)))),(err=>{if(err&&"AbortError"===err.name)throw err;throw{code:"fetch_error",message:(0,build_module.__)("You are probably offline.")}}))};function build_module_apiFetch(options){return middlewares.reduceRight(((next,middleware)=>workingOptions=>middleware(workingOptions,next)),fetchHandler)(options).catch((error=>"rest_cookie_invalid_nonce"!==error.code?Promise.reject(error):window.fetch(build_module_apiFetch.nonceEndpoint).then(checkStatus).then((data=>data.text())).then((text=>(build_module_apiFetch.nonceMiddleware.nonce=text,build_module_apiFetch(options))))))}build_module_apiFetch.use=function registerMiddleware(middleware){middlewares.unshift(middleware)},build_module_apiFetch.setFetchHandler=function setFetchHandler(newFetchHandler){fetchHandler=newFetchHandler},build_module_apiFetch.createNonceMiddleware=nonce,build_module_apiFetch.createPreloadingMiddleware=preloading,build_module_apiFetch.createRootURLMiddleware=root_url,build_module_apiFetch.fetchAllMiddleware=fetch_all_middleware,build_module_apiFetch.mediaUploadMiddleware=middlewares_media_upload;const api_fetch_build_module=build_module_apiFetch},"./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var util=__webpack_require__("./node_modules/dom-scroll-into-view/lib/util.js");module.exports=function scrollIntoView(elem,container,config){config=config||{},9===container.nodeType&&(container=util.getWindow(container));var allowHorizontalScroll=config.allowHorizontalScroll,onlyScrollIfNeeded=config.onlyScrollIfNeeded,alignWithTop=config.alignWithTop,alignWithLeft=config.alignWithLeft,offsetTop=config.offsetTop||0,offsetLeft=config.offsetLeft||0,offsetBottom=config.offsetBottom||0,offsetRight=config.offsetRight||0;allowHorizontalScroll=void 0===allowHorizontalScroll||allowHorizontalScroll;var isWin=util.isWindow(container),elemOffset=util.offset(elem),eh=util.outerHeight(elem),ew=util.outerWidth(elem),containerOffset=void 0,ch=void 0,cw=void 0,containerScroll=void 0,diffTop=void 0,diffBottom=void 0,win=void 0,winScroll=void 0,ww=void 0,wh=void 0;isWin?(win=container,wh=util.height(win),ww=util.width(win),winScroll={left:util.scrollLeft(win),top:util.scrollTop(win)},diffTop={left:elemOffset.left-winScroll.left-offsetLeft,top:elemOffset.top-winScroll.top-offsetTop},diffBottom={left:elemOffset.left+ew-(winScroll.left+ww)+offsetRight,top:elemOffset.top+eh-(winScroll.top+wh)+offsetBottom},containerScroll=winScroll):(containerOffset=util.offset(container),ch=container.clientHeight,cw=container.clientWidth,containerScroll={left:container.scrollLeft,top:container.scrollTop},diffTop={left:elemOffset.left-(containerOffset.left+(parseFloat(util.css(container,"borderLeftWidth"))||0))-offsetLeft,top:elemOffset.top-(containerOffset.top+(parseFloat(util.css(container,"borderTopWidth"))||0))-offsetTop},diffBottom={left:elemOffset.left+ew-(containerOffset.left+cw+(parseFloat(util.css(container,"borderRightWidth"))||0))+offsetRight,top:elemOffset.top+eh-(containerOffset.top+ch+(parseFloat(util.css(container,"borderBottomWidth"))||0))+offsetBottom}),diffTop.top<0||diffBottom.top>0?!0===alignWithTop?util.scrollTop(container,containerScroll.top+diffTop.top):!1===alignWithTop?util.scrollTop(container,containerScroll.top+diffBottom.top):diffTop.top<0?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top):onlyScrollIfNeeded||((alignWithTop=void 0===alignWithTop||!!alignWithTop)?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top)),allowHorizontalScroll&&(diffTop.left<0||diffBottom.left>0?!0===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffTop.left):!1===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffBottom.left):diffTop.left<0?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left):onlyScrollIfNeeded||((alignWithLeft=void 0===alignWithLeft||!!alignWithLeft)?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left)))}},"./node_modules/dom-scroll-into-view/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js")},"./node_modules/dom-scroll-into-view/lib/util.js":module=>{"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};function getScroll(w,top){var ret=w["page"+(top?"Y":"X")+"Offset"],method="scroll"+(top?"Top":"Left");if("number"!=typeof ret){var d=w.document;"number"!=typeof(ret=d.documentElement[method])&&(ret=d.body[method])}return ret}function getScrollLeft(w){return getScroll(w)}function getScrollTop(w){return getScroll(w,!0)}function getOffset(el){var pos=function getClientPosition(elem){var box,x=void 0,y=void 0,doc=elem.ownerDocument,body=doc.body,docElem=doc&&doc.documentElement;return x=(box=elem.getBoundingClientRect()).left,y=box.top,{left:x-=docElem.clientLeft||body.clientLeft||0,top:y-=docElem.clientTop||body.clientTop||0}}(el),doc=el.ownerDocument,w=doc.defaultView||doc.parentWindow;return pos.left+=getScrollLeft(w),pos.top+=getScrollTop(w),pos}var _RE_NUM_NO_PX=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),RE_POS=/^(top|right|bottom|left)$/,LEFT="left";var getComputedStyleX=void 0;function each(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])}function isBorderBoxFn(elem){return"border-box"===getComputedStyleX(elem,"boxSizing")}"undefined"!=typeof window&&(getComputedStyleX=window.getComputedStyle?function _getComputedStyle(elem,name,computedStyle_){var val="",d=elem.ownerDocument,computedStyle=computedStyle_||d.defaultView.getComputedStyle(elem,null);return computedStyle&&(val=computedStyle.getPropertyValue(name)||computedStyle[name]),val}:function _getComputedStyleIE(elem,name){var ret=elem.currentStyle&&elem.currentStyle[name];if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){var style=elem.style,left=style[LEFT],rsLeft=elem.runtimeStyle[LEFT];elem.runtimeStyle[LEFT]=elem.currentStyle[LEFT],style[LEFT]="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+"px",style[LEFT]=left,elem.runtimeStyle[LEFT]=rsLeft}return""===ret?"auto":ret});var BOX_MODELS=["margin","border","padding"];function getPBMWidth(elem,props,which){var value=0,prop=void 0,j=void 0,i=void 0;for(j=0;j<props.length;j++)if(prop=props[j])for(i=0;i<which.length;i++){var cssProp=void 0;cssProp="border"===prop?prop+which[i]+"Width":prop+which[i],value+=parseFloat(getComputedStyleX(elem,cssProp))||0}return value}function isWindow(obj){return null!=obj&&obj==obj.window}var domUtils={};function getWH(elem,name,extra){if(isWindow(elem))return"width"===name?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);if(9===elem.nodeType)return"width"===name?domUtils.docWidth(elem):domUtils.docHeight(elem);var which="width"===name?["Left","Right"]:["Top","Bottom"],borderBoxValue="width"===name?elem.offsetWidth:elem.offsetHeight,isBorderBox=(getComputedStyleX(elem),isBorderBoxFn(elem)),cssBoxValue=0;(null==borderBoxValue||borderBoxValue<=0)&&(borderBoxValue=void 0,(null==(cssBoxValue=getComputedStyleX(elem,name))||Number(cssBoxValue)<0)&&(cssBoxValue=elem.style[name]||0),cssBoxValue=parseFloat(cssBoxValue)||0),void 0===extra&&(extra=isBorderBox?1:-1);var borderBoxValueOrIsBorderBox=void 0!==borderBoxValue||isBorderBox,val=borderBoxValue||cssBoxValue;if(-1===extra)return borderBoxValueOrIsBorderBox?val-getPBMWidth(elem,["border","padding"],which):cssBoxValue;if(borderBoxValueOrIsBorderBox){var padding=2===extra?-getPBMWidth(elem,["border"],which):getPBMWidth(elem,["margin"],which);return val+(1===extra?0:padding)}return cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which)}each(["Width","Height"],(function(name){domUtils["doc"+name]=function(refWin){var d=refWin.document;return Math.max(d.documentElement["scroll"+name],d.body["scroll"+name],domUtils["viewport"+name](d))},domUtils["viewport"+name]=function(win){var prop="client"+name,doc=win.document,body=doc.body,documentElementProp=doc.documentElement[prop];return"CSS1Compat"===doc.compatMode&&documentElementProp||body&&body[prop]||documentElementProp}}));var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(elem){var val=void 0,args=arguments;return 0!==elem.offsetWidth?val=getWH.apply(void 0,args):function swap(elem,options,callback){var old={},style=elem.style,name=void 0;for(name in options)options.hasOwnProperty(name)&&(old[name]=style[name],style[name]=options[name]);for(name in callback.call(elem),options)options.hasOwnProperty(name)&&(style[name]=old[name])}(elem,cssShow,(function(){val=getWH.apply(void 0,args)})),val}function css(el,name,v){var value=v;if("object"!==(void 0===name?"undefined":_typeof(name)))return void 0!==value?("number"==typeof value&&(value+="px"),void(el.style[name]=value)):getComputedStyleX(el,name);for(var i in name)name.hasOwnProperty(i)&&css(el,i,name[i])}each(["width","height"],(function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils["outer"+first]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?0:1)};var which="width"===name?["Left","Right"]:["Top","Bottom"];domUtils[name]=function(elem,val){if(void 0===val)return elem&&getWHIgnoreDisplay(elem,name,-1);if(elem){getComputedStyleX(elem);return isBorderBoxFn(elem)&&(val+=getPBMWidth(elem,["padding","border"],which)),css(elem,name,val)}}})),module.exports=_extends({getWindow:function getWindow(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},offset:function offset(el,value){if(void 0===value)return getOffset(el);!function setOffset(elem,offset){"static"===css(elem,"position")&&(elem.style.position="relative");var old=getOffset(elem),ret={},current=void 0,key=void 0;for(key in offset)offset.hasOwnProperty(key)&&(current=parseFloat(css(elem,key))||0,ret[key]=current+offset[key]-old[key]);css(elem,ret)}(el,value)},isWindow,each,css,clone:function clone(obj){var ret={};for(var i in obj)obj.hasOwnProperty(i)&&(ret[i]=obj[i]);if(obj.overflow)for(var i in obj)obj.hasOwnProperty(i)&&(ret.overflow[i]=obj.overflow[i]);return ret},scrollLeft:function scrollLeft(w,v){if(isWindow(w)){if(void 0===v)return getScrollLeft(w);window.scrollTo(v,getScrollTop(w))}else{if(void 0===v)return w.scrollLeft;w.scrollLeft=v}},scrollTop:function scrollTop(w,v){if(isWindow(w)){if(void 0===v)return getScrollTop(w);window.scrollTo(getScrollLeft(w),v)}else{if(void 0===v)return w.scrollTop;w.scrollTop=v}},viewportWidth:0,viewportHeight:0},domUtils)},"./node_modules/gradient-parser/build/node.js":(__unused_webpack_module,exports)=>{var GradientParser={};GradientParser.parse=function(){var tokens_linearGradient=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,tokens_repeatingLinearGradient=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,tokens_radialGradient=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,tokens_repeatingRadialGradient=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,tokens_sideOrCorner=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,tokens_extentKeywords=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,tokens_positionKeywords=/^(left|center|right|top|bottom)/i,tokens_pixelValue=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,tokens_percentageValue=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,tokens_emValue=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,tokens_angleValue=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,tokens_startCall=/^\(/,tokens_endCall=/^\)/,tokens_comma=/^,/,tokens_hexColor=/^\#([0-9a-fA-F]+)/,tokens_literalColor=/^([a-zA-Z]+)/,tokens_rgbColor=/^rgb/i,tokens_rgbaColor=/^rgba/i,tokens_number=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,input="";function error(msg){var err=new Error(input+": "+msg);throw err.source=input,err}function getAST(){var ast=function matchListDefinitions(){return matchListing(matchDefinition)}();return input.length>0&&error("Invalid input not EOF"),ast}function matchDefinition(){return matchGradient("linear-gradient",tokens_linearGradient,matchLinearOrientation)||matchGradient("repeating-linear-gradient",tokens_repeatingLinearGradient,matchLinearOrientation)||matchGradient("radial-gradient",tokens_radialGradient,matchListRadialOrientations)||matchGradient("repeating-radial-gradient",tokens_repeatingRadialGradient,matchListRadialOrientations)}function matchGradient(gradientType,pattern,orientationMatcher){return matchCall(pattern,(function(captures){var orientation=orientationMatcher();return orientation&&(scan(tokens_comma)||error("Missing comma before color stops")),{type:gradientType,orientation,colorStops:matchListing(matchColorStop)}}))}function matchCall(pattern,callback){var captures=scan(pattern);if(captures)return scan(tokens_startCall)||error("Missing ("),result=callback(captures),scan(tokens_endCall)||error("Missing )"),result}function matchLinearOrientation(){return function matchSideOrCorner(){return match("directional",tokens_sideOrCorner,1)}()||function matchAngle(){return match("angular",tokens_angleValue,1)}()}function matchListRadialOrientations(){var radialOrientations,lookaheadCache,radialOrientation=matchRadialOrientation();return radialOrientation&&((radialOrientations=[]).push(radialOrientation),lookaheadCache=input,scan(tokens_comma)&&((radialOrientation=matchRadialOrientation())?radialOrientations.push(radialOrientation):input=lookaheadCache)),radialOrientations}function matchRadialOrientation(){var radialType=function matchCircle(){var circle=match("shape",/^(circle)/i,0);circle&&(circle.style=matchLength()||matchExtentKeyword());return circle}()||function matchEllipse(){var ellipse=match("shape",/^(ellipse)/i,0);ellipse&&(ellipse.style=matchDistance()||matchExtentKeyword());return ellipse}();if(radialType)radialType.at=function matchAtPosition(){if(match("position",/^at/,0)){var positioning=matchPositioning();return positioning||error("Missing positioning value"),positioning}}();else{var defaultPosition=matchPositioning();defaultPosition&&(radialType={type:"default-radial",at:defaultPosition})}return radialType}function matchExtentKeyword(){return match("extent-keyword",tokens_extentKeywords,1)}function matchPositioning(){var location=function matchCoordinates(){return{x:matchDistance(),y:matchDistance()}}();if(location.x||location.y)return{type:"position",value:location}}function matchListing(matcher){var captures=matcher(),result=[];if(captures)for(result.push(captures);scan(tokens_comma);)(captures=matcher())?result.push(captures):error("One extra comma");return result}function matchColorStop(){var color=function matchColor(){return function matchHexColor(){return match("hex",tokens_hexColor,1)}()||function matchRGBAColor(){return matchCall(tokens_rgbaColor,(function(){return{type:"rgba",value:matchListing(matchNumber)}}))}()||function matchRGBColor(){return matchCall(tokens_rgbColor,(function(){return{type:"rgb",value:matchListing(matchNumber)}}))}()||function matchLiteralColor(){return match("literal",tokens_literalColor,0)}()}();return color||error("Expected color definition"),color.length=matchDistance(),color}function matchNumber(){return scan(tokens_number)[1]}function matchDistance(){return match("%",tokens_percentageValue,1)||function matchPositionKeyword(){return match("position-keyword",tokens_positionKeywords,1)}()||matchLength()}function matchLength(){return match("px",tokens_pixelValue,1)||match("em",tokens_emValue,1)}function match(type,pattern,captureIndex){var captures=scan(pattern);if(captures)return{type,value:captures[captureIndex]}}function scan(regexp){var captures,blankCaptures;return(blankCaptures=/^[\n\r\t\s]+/.exec(input))&&consume(blankCaptures[0].length),(captures=regexp.exec(input))&&consume(captures[0].length),captures}function consume(size){input=input.substr(size)}return function(code){return input=code.toString(),getAST()}}(),exports.parse=(GradientParser||{}).parse}}]);