"use strict";(self.webpackChunkneve=self.webpackChunkneve||[]).push([[571],{"./assets/apps/customizer-controls/src/builder/components/Builder.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>components_Builder});var react=__webpack_require__("./node_modules/react/index.js"),build_module_button=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js"),svg=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const library_cog=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));var build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),dist=__webpack_require__("./node_modules/react-sortablejs/dist/index.js"),plus=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/plus.js"),build_module_icon=__webpack_require__("./node_modules/@wordpress/components/build-module/icon/index.js"),drag_handle=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/drag-handle.js");const library_settings=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{d:"M14.5 13.8c-1.1 0-2.1.7-2.4 1.8H4V17h8.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20v-1.5h-3.1c-.3-1-1.3-1.7-2.4-1.7zM11.9 7c-.3-1-1.3-1.8-2.4-1.8S7.4 6 7.1 7H4v1.5h3.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20V7h-8.1z"}));var close_small=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/close-small.js"),BuilderContext=__webpack_require__("./assets/apps/customizer-controls/src/builder/BuilderContext.tsx");const BuilderItem=props=>{const{componentId,currentSection,slot,row,index}=props,{actions,builder,sidebarItems,device}=(0,react.useContext)(BuilderContext.A),itemDetails=window.NeveReactCustomize.HFG[builder].items[componentId];if(!itemDetails)return null;const{name,section}=itemDetails,{removeItem,setSidebarItems}=actions,isBlockWidget=section&&section.includes("neve_sidebar-widgets"),isActive=currentSection===section,itemSection=window.wp.customize.section(section),focusItemSection=()=>{itemSection.focus()},itemClasses=classnames_default()("builder-item",{active:isActive});return react.createElement("div",{className:itemClasses},react.createElement(build_module_icon.A,{className:"handle",icon:drag_handle.A,size:15}),react.createElement("span",{className:"name"},name),react.createElement("div",{className:"actions"},react.createElement(build_module_button.A,{icon:library_cog,iconSize:18,className:"settings",onClick:isBlockWidget?()=>{const newSection=section.replace("neve_","");window.wp.customize.section(newSection).focus()}:focusItemSection,label:(0,build_module.__)("Item Settings","neve"),showTooltip:!1}),isBlockWidget&&react.createElement(build_module_button.A,{icon:library_settings,iconSize:18,className:"settings",onClick:focusItemSection,label:(0,build_module.__)("Widget Settings","neve"),showTooltip:!1}),react.createElement(build_module_button.A,{iconSize:18,icon:close_small.A,className:"remove",onClick:()=>{var _a;removeItem(row,slot,index),itemSection.expanded(!1),setSidebarItems([...sidebarItems,{id:componentId}].sort(((a,b)=>a.id<b.id?-1:1))),null===(_a=window.tiTrk)||void 0===_a||_a.with("neve").set(`${componentId}__${device}_${builder}_removed`,{feature:builder+"_builder",featureComponent:"component-removed",featureValue:{row,slot,item:componentId,device}})},label:(0,build_module.__)("Remove Item","neve"),showTooltip:!1})))},components_BuilderItem=BuilderItem;try{BuilderItem.displayName="BuilderItem",BuilderItem.__docgenInfo={description:"",displayName:"BuilderItem",props:{row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"main"'},{value:'"bottom"'},{value:'"sidebar"'}]}},slot:{defaultValue:null,description:"",name:"slot",required:!0,type:{name:"enum",value:[{value:'"sidebar"'},{value:'"left"'},{value:'"c-left"'},{value:'"center"'},{value:'"c-right"'},{value:'"right"'}]}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!0,type:{name:"string"}},currentSection:{defaultValue:null,description:"",name:"currentSection",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/BuilderItem.tsx#BuilderItem"]={docgenInfo:BuilderItem.__docgenInfo,name:"BuilderItem",path:"assets/apps/customizer-controls/src/builder/components/BuilderItem.tsx#BuilderItem"})}catch(__react_docgen_typescript_loader_error){}var popover=__webpack_require__("./node_modules/@wordpress/components/build-module/popover/index.js");const library_search=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}));var library_close=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/close.js");const ComponentsPopover=({closePopup,items,rowId,slotId})=>{const[searchQuery,setSearchQuery]=(0,react.useState)(""),url=window.NeveReactCustomize.upsellComponentsLink,{builder,actions,sidebarItems,device}=(0,react.useContext)(BuilderContext.A),{updateLayout,setSidebarItems}=actions,allItems=window.NeveReactCustomize.HFG[builder].items,upsells=window.NeveReactCustomize.HFG[builder].upsells||[],getSidebarItems=(booster=!1)=>sidebarItems.filter((item=>{const{name,fromTheme}=allItems[item.id];return!(!booster&&!fromTheme)&&((!booster||!fromTheme)&&(name.toLowerCase().includes(searchQuery)||item.id.toString().includes(searchQuery)))})),renderItem=(item,idx)=>item.id?react.createElement(build_module_button.A,{className:"popover-item",key:`${item.id}-${idx}`,icon:allItems[item.id].icon,onClick:()=>{(itemId=>{var _a;const itemSection=window.NeveReactCustomize.HFG[builder].items[itemId].section;window.wp.customize.section(itemSection).focus();const nextItems=[...items];nextItems.push({id:itemId}),updateLayout(rowId,slotId,nextItems),setSidebarItems(sidebarItems.filter((i=>i.id!==itemId))),null===(_a=window.tiTrk)||void 0===_a||_a.with("neve").set(`${itemId}__${device}_${builder}_added`,{feature:builder+"_builder",featureComponent:"component-added",featureValue:{row:rowId,slot:slotId,item:itemId,device,trigger:"popover"}}),closePopup()})(item.id.toString())}},react.createElement("span",{className:"name"},allItems[item.id].name)):null;return react.createElement(popover.A,{noArrow:!1,position:"top center",className:"items-popover",onFocusOutside:closePopup,inline:!0},react.createElement("div",{className:"popover-header"},react.createElement(build_module_icon.A,{icon:library_search}),react.createElement("input",{onChange:e=>{setSearchQuery(e.target.value.toLowerCase())},disabled:sidebarItems.length<1,type:"search",placeholder:(0,build_module.__)("Search for a componentâ€¦","neve")}),react.createElement(build_module_button.A,{isLink:!0,icon:library_close.A,onClick:closePopup})),react.createElement("div",{className:"items-popover-content"},(()=>{const themeItems=getSidebarItems(),boosterItems=getSidebarItems(!0);let noComponents=null;return 0===themeItems.length&&0===boosterItems.length&&(noComponents=react.createElement("div",{className:"no-components"},react.createElement("span",null,(0,build_module.__)("All available components are used inside the builder","neve")))),react.createElement(react.Fragment,null,noComponents||react.createElement(react.Fragment,null,react.createElement("div",{className:"items-popover-list theme-list"},themeItems.map(((item,index)=>renderItem(item,index)))),boosterItems.length>0&&react.createElement(react.Fragment,null,react.createElement("h4",null,(0,build_module.__)("PRO","neve")," ",(0,build_module.__)("Components","neve")),react.createElement("div",{className:"items-popover-list booster-list"},boosterItems.map(((item,index)=>renderItem(item,index)))))),boosterItems.length<1&&upsells.length>0&&react.createElement(react.Fragment,null,react.createElement("h4",null,(0,build_module.__)("PRO","neve")," ",(0,build_module.__)("Components","neve")),react.createElement("div",{className:"items-popover-list upsell-list"},upsells.map((({name,icon},idx)=>((idx,icon,name)=>react.createElement(build_module_button.A,{key:idx,className:"popover-item ext",disabled:!0,icon},react.createElement("span",{className:"name"},name),react.createElement("span",{className:"nv-lock"},react.createElement(build_module_icon.A,{icon:"lock",size:10}))))(idx,icon,name)))),react.createElement("div",{className:"upsell-wrap"},react.createElement("span",{className:"count"},"15+ ",(0,build_module.__)("Components","neve")),react.createElement(build_module_button.A,{isPrimary:!0,className:"upsell-btn",href:url,target:"_blank",rel:"external noreferrer noopener"},(0,build_module.__)("Explore Neve PRO","neve")))))})()))},components_ComponentsPopover=ComponentsPopover;try{ComponentsPopover.displayName="ComponentsPopover",ComponentsPopover.__docgenInfo={description:"",displayName:"ComponentsPopover",props:{closePopup:{defaultValue:null,description:"",name:"closePopup",required:!0,type:{name:"() => void"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BuilderItemType[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"main"'},{value:'"bottom"'},{value:'"sidebar"'}]}},slotId:{defaultValue:null,description:"",name:"slotId",required:!0,type:{name:"enum",value:[{value:'"sidebar"'},{value:'"left"'},{value:'"c-left"'},{value:'"center"'},{value:'"c-right"'},{value:'"right"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/ComponentsPopover.tsx#ComponentsPopover"]={docgenInfo:ComponentsPopover.__docgenInfo,name:"ComponentsPopover",path:"assets/apps/customizer-controls/src/builder/components/ComponentsPopover.tsx#ComponentsPopover"})}catch(__react_docgen_typescript_loader_error){}const Slot=({items,slotId,rowId,className})=>{const{currentSection,builder,actions,dragging,device}=(0,react.useContext)(BuilderContext.A),{updateLayout,onDragStart}=actions,[popupOpen,setPopupOpen]=(0,react.useState)(!1),slotClasses=classnames_default()("droppable-wrap",slotId,className,{"has-popover":popupOpen,overflowed:items.length>=3&&"sidebar"!==rowId});return react.createElement("div",{className:slotClasses},react.createElement(dist.KI,{animation:60,className:"droppable",onStart:onDragStart,group:builder,list:items,setList:newState=>{var _a;const nextState=newState.map((item=>({id:item.id})));null===(_a=null==nextState?void 0:nextState.filter((item=>!items.some((i=>i.id===item.id)))))||void 0===_a||_a.forEach((item=>{var _a;null===(_a=window.tiTrk)||void 0===_a||_a.with("neve").set(`${item.id}__${device}_${builder}_added`,{feature:builder+"_builder",featureComponent:"component-added",featureValue:{row:rowId,slot:slotId,item:item.id,device,trigger:"drag-and-drop"}})})),updateLayout(rowId,slotId,nextState)}},items&&items.length>0&&items.map(((item,index)=>react.createElement(components_BuilderItem,{key:index,row:rowId,slot:slotId,index,componentId:item.id,currentSection})))),!dragging&&react.createElement(build_module_button.A,{className:"open-popover",onClick:()=>setPopupOpen(!0),icon:plus.A,isPrimary:!0}),popupOpen&&react.createElement(components_ComponentsPopover,{items,rowId,slotId,closePopup:()=>setPopupOpen(!1)}))},components_Slot=Slot;try{Slot.displayName="Slot",Slot.__docgenInfo={description:"",displayName:"Slot",props:{rowId:{defaultValue:null,description:"",name:"rowId",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"main"'},{value:'"bottom"'},{value:'"sidebar"'}]}},slotId:{defaultValue:null,description:"",name:"slotId",required:!0,type:{name:"enum",value:[{value:'"sidebar"'},{value:'"left"'},{value:'"c-left"'},{value:'"center"'},{value:'"c-right"'},{value:'"right"'}]}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BuilderItemType[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/Slot.tsx#Slot"]={docgenInfo:Slot.__docgenInfo,name:"Slot",path:"assets/apps/customizer-controls/src/builder/components/Slot.tsx#Slot"})}catch(__react_docgen_typescript_loader_error){}const Row=({items,rowId})=>{const{actions,dragging,builder,hasColumns,previewSidebar}=(0,react.useContext)(BuilderContext.A),{updateLayout,togglePreviewSidebar,updateSidebarItems}=actions,slots=["left","c-left","center","c-right","right"],section=`hfg_${builder}_layout_${rowId}`,columnsSetting=`${section}_columns_number`,columnsLayoutSetting=`${section}_columns_layout`,[columns,setColumns]=(0,react.useState)(0),[colLayout,setColLayout]=(0,react.useState)("equal"),[currentRow,setCurrentRow]=(0,react.useState)(!1),focusRowSection=()=>{"sidebar"===rowId&&toggleThemeSidebar(!0),window.wp.customize.section(section).focus()};(0,react.useEffect)((()=>(window.wp.customize.state("expandedSection").bind(rowSettingsHandler),hasColumns&&bindColumnsSync(),()=>{window.wp.customize.state("expandedSection").unbind(rowSettingsHandler)})),[]);const rowSettingsHandler=expandedSection=>{if(!expandedSection||expandedSection.id!==section)return setCurrentRow(!1),!1;expandedSection.id===section&&setCurrentRow(!0)},bindColumnsSync=()=>{const colNumber=window.wp.customize.control(columnsSetting).setting.get();setColumns(parseInt(colNumber)),setColLayout(window.wp.customize.control(columnsLayoutSetting).setting.get());window.wp.customize.control(columnsSetting,(control=>{control.setting.bind((nextValue=>{(nextValue=>{const parsedColNumber=parseInt(nextValue);slots.forEach(((slot,index)=>{index+1>parsedColNumber&&updateLayout(rowId,slot,[])})),setColumns(parsedColNumber),updateSidebarItems()})(nextValue)}))})),window.wp.customize.control(columnsLayoutSetting,(control=>{control.setting.bind((nextValue=>{setColLayout(nextValue)}))}))};(0,react.useEffect)((()=>{"sidebar"===rowId&&window.wp.customize.previewer.bind("neve-toggle-navbar",(e=>{const{status}=e;togglePreviewSidebar(status)}))}),[]);const toggleThemeSidebar=status=>{window.wp.customize.previewer.send(status?"header_sidebar_open":"header_sidebar_close"),togglePreviewSidebar(status)};if("sidebar"===rowId){const hasItems=items&&items.length>0,rowClasses=classnames_default()("row",rowId,{"has-items":hasItems});return react.createElement("div",{className:rowClasses},react.createElement("div",{className:"sidebar-actions"},react.createElement(build_module_button.A,{icon:library_cog,iconSize:18,className:"row-settings",label:(0,build_module.__)("Row Setting","neve"),onClick:focusRowSection,isPrimary:currentRow}),hasItems&&react.createElement(build_module_button.A,{onClick:()=>{toggleThemeSidebar(!previewSidebar)},icon:previewSidebar?"hidden":"visibility",className:"row-settings",isPrimary:previewSidebar,label:(0,build_module.__)("Toggle Sidebar","neve")})),react.createElement("div",{className:"row-inner"},react.createElement(components_Slot,{slotId:rowId,rowId,items:items||[]})))}const centerItemsClass=items.center&&items.center.length>0||hasColumns?"has-center":"no-center",centerWrapClass=classnames_default()("slots-wrap","slots-center-wrap",{expanded:dragging});return react.createElement("div",{className:`row ${rowId} ${centerItemsClass}`},react.createElement(build_module_button.A,{icon:library_cog,iconSize:18,className:"row-settings",onClick:focusRowSection,isPrimary:currentRow}),react.createElement("div",{className:"inner-row"},!hasColumns&&react.createElement(react.Fragment,null,react.createElement("div",{className:"slots-wrap slots-left-wrap"},["left","c-left"].map(((slotId,index)=>react.createElement(components_Slot,{key:index,rowId,slotId,items:items[slotId]||[]})))),react.createElement("div",{className:centerWrapClass},react.createElement(components_Slot,{rowId,slotId:"center",items:items.center||[]})),react.createElement("div",{className:"slots-wrap slots-right-wrap"},["c-right","right"].map(((slotId,index)=>react.createElement(components_Slot,{key:index,rowId,slotId,items:items[slotId]||[]}))))),hasColumns&&react.createElement("div",{className:`slots-wrap column-slots-wrap col-${columns} ${colLayout}`},slots.map(((slotId,index)=>{const slotClasses=classnames_default()({hide:index>=columns,last:index===columns-1,single:0===index&&1===columns});return react.createElement(components_Slot,{key:index,rowId,slotId,items:items[slotId]||[],className:slotClasses})})))))},components_Row=Row;try{Row.displayName="Row",Row.__docgenInfo={description:"",displayName:"Row",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BuilderRowInterface & BuilderItemType[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"main"'},{value:'"bottom"'},{value:'"sidebar"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/Row.tsx#Row"]={docgenInfo:Row.__docgenInfo,name:"Row",path:"assets/apps/customizer-controls/src/builder/components/Row.tsx#Row"})}catch(__react_docgen_typescript_loader_error){}let indoc,offset,output,stack;const tokenizer=/<(\/)?(\w+)\s*(\/)?>/g;function createFrame(element,tokenStart,tokenLength,prevOffset,leadingTextStart){return{element,tokenStart,tokenLength,prevOffset,leadingTextStart,children:[]}}const isValidConversionMap=conversionMap=>{const isObject="object"==typeof conversionMap,values=isObject&&Object.values(conversionMap);return isObject&&values.length&&values.every((element=>(0,react.isValidElement)(element)))};function proceed(conversionMap){const next=function nextToken(){const matches=tokenizer.exec(indoc);if(null===matches)return["no-more-tokens"];const startedAt=matches.index,[match,isClosing,name,isSelfClosed]=matches,length=match.length;if(isSelfClosed)return["self-closed",name,startedAt,length];if(isClosing)return["closer",name,startedAt,length];return["opener",name,startedAt,length]}(),[tokenType,name,startOffset,tokenLength]=next,stackDepth=stack.length,leadingTextStart=startOffset>offset?offset:null;if(!conversionMap[name])return addText(),!1;switch(tokenType){case"no-more-tokens":if(0!==stackDepth){const{leadingTextStart:stackLeadingText,tokenStart}=stack.pop();output.push(indoc.substr(stackLeadingText,tokenStart))}return addText(),!1;case"self-closed":return 0===stackDepth?(null!==leadingTextStart&&output.push(indoc.substr(leadingTextStart,startOffset-leadingTextStart)),output.push(conversionMap[name]),offset=startOffset+tokenLength,!0):(addChild(createFrame(conversionMap[name],startOffset,tokenLength)),offset=startOffset+tokenLength,!0);case"opener":return stack.push(createFrame(conversionMap[name],startOffset,tokenLength,startOffset+tokenLength,leadingTextStart)),offset=startOffset+tokenLength,!0;case"closer":if(1===stackDepth)return function closeOuterElement(endOffset){const{element,leadingTextStart,prevOffset,tokenStart,children}=stack.pop(),text=endOffset?indoc.substr(prevOffset,endOffset-prevOffset):indoc.substr(prevOffset);text&&children.push(text);null!==leadingTextStart&&output.push(indoc.substr(leadingTextStart,tokenStart-leadingTextStart));output.push((0,react.cloneElement)(element,null,...children))}(startOffset),offset=startOffset+tokenLength,!0;const stackTop=stack.pop(),text=indoc.substr(stackTop.prevOffset,startOffset-stackTop.prevOffset);stackTop.children.push(text),stackTop.prevOffset=startOffset+tokenLength;const frame=createFrame(stackTop.element,stackTop.tokenStart,stackTop.tokenLength,startOffset+tokenLength);return frame.children=stackTop.children,addChild(frame),offset=startOffset+tokenLength,!0;default:return addText(),!1}}function addText(){const length=indoc.length-offset;0!==length&&output.push(indoc.substr(offset,length))}function addChild(frame){const{element,tokenStart,tokenLength,prevOffset,children}=frame,parent=stack[stack.length-1],text=indoc.substr(parent.prevOffset,tokenStart-parent.prevOffset);text&&parent.children.push(text),parent.children.push((0,react.cloneElement)(element,null,...children)),parent.prevOffset=prevOffset||tokenStart+tokenLength}const create_interpolate_element=(interpolatedString,conversionMap)=>{if(indoc=interpolatedString,offset=0,output=[],stack=[],tokenizer.lastIndex=0,!isValidConversionMap(conversionMap))throw new TypeError("The conversionMap provided is not valid. It must be an object with values that are WPElements");do{}while(proceed(conversionMap));return(0,react.createElement)(react.Fragment,null,...output)};var modal=__webpack_require__("./node_modules/@wordpress/components/build-module/modal/index.js");const library_info=(0,react.createElement)(svg.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.wA,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),BuilderHeaderNotification=({builder,builderName})=>{const[modalVisible,setModalVisible]=(0,react.useState)(!1),[currentHeaderName,setCurrentHeaderName]=(0,react.useState)(null),toggleModal=()=>{setModalVisible(!modalVisible)},focusConditionalSelector=()=>{window.wp.customize.control("neve_header_conditional_selector").focus()};(0,react.useEffect)((()=>{const updateName=e=>{setCurrentHeaderName(e.detail)};return document.addEventListener("nv-change-conditional-header",updateName),()=>document.removeEventListener("nv-change-conditional-header",updateName)}),[]);const{dashUpdatesMessage,instructionalVid,hideConditionalHeaderSelector:incompatiblePro}=window.NeveReactCustomize;(0,react.useEffect)((()=>{if(!incompatiblePro||"header"!==builder)return;if(window.wp.customize.control("neve_header_conditional_selector"))return;const transparentControl=window.wp.customize.control("neve_transparent_header");if(!transparentControl)return;const sectionToNotify=transparentControl.params.section;window.wp.customize.section(sectionToNotify).notifications.add(new window.wp.customize.Notification("neve-incompatible-conditional",{type:"warning",message:dashUpdatesMessage}))}));return react.createElement("span",{className:"builder-instructions"},"header"===builder&&currentHeaderName?react.createElement("p",null,void 0!==create_interpolate_element&&create_interpolate_element((0,build_module.nv)((0,build_module.__)("You are customizing the <Button>%1$s</Button> Header","neve"),currentHeaderName||(0,build_module.__)("")),{Button:react.createElement(build_module_button.A,{isLink:!0,onClick:focusConditionalSelector},"#dumptext")})):react.createElement("p",null,react.createElement("strong",null,(0,build_module.nv)((0,build_module.__)("%1$s Builder","neve"),builderName)+":"),(0,build_module.__)("Click on any empty space to add components, or existing components to adjust settings.","neve")),react.createElement(build_module_button.A,{style:{padding:0},isLink:!0,icon:library_info,iconSize:20,onClick:toggleModal}),modalVisible&&react.createElement(modal.A,{title:"",className:"neve-ui-modal-wrap",onRequestClose:toggleModal,shouldCloseOnClickOutside:!0,isDismissible:!0},react.createElement("video",{style:{margin:"0 auto",display:"block"},autoPlay:!0,muted:!0,loop:!0,playsInline:!0},react.createElement("source",{src:instructionalVid,type:"video/mp4"}))))},components_BuilderHeaderNotification=BuilderHeaderNotification;try{BuilderHeaderNotification.displayName="BuilderHeaderNotification",BuilderHeaderNotification.__docgenInfo={description:"",displayName:"BuilderHeaderNotification",props:{builderName:{defaultValue:null,description:"",name:"builderName",required:!0,type:{name:"string"}},builder:{defaultValue:null,description:"",name:"builder",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/BuilderHeaderNotification.tsx#BuilderHeaderNotification"]={docgenInfo:BuilderHeaderNotification.__docgenInfo,name:"BuilderHeaderNotification",path:"assets/apps/customizer-controls/src/builder/components/BuilderHeaderNotification.tsx#BuilderHeaderNotification"})}catch(__react_docgen_typescript_loader_error){}const ResponsiveSwitches=({device})=>{const{actions,builder}=(0,react.useContext)(BuilderContext.A),{setDevice}=actions,buttons=[{title:(0,build_module.__)("Desktop","neve"),icon:"desktop",slug:"desktop"},{title:(0,build_module.__)("Mobile","neve"),icon:"smartphone",slug:"mobile"}],{devices,title:builderName}=window.NeveReactCustomize.HFG[builder],shownButtons=buttons.filter((({slug})=>Object.keys(devices).includes(slug)));return react.createElement("div",{className:"builder-header"},react.createElement("div",{className:"responsive-switches"},shownButtons.map(((button,index)=>{const{title,icon,slug}=button,buttonClasses=classnames_default()("device-switcher",{active:slug===device});return react.createElement(build_module_button.A,{className:buttonClasses,key:index,icon,onClick:()=>(nextDevice=>{if(device===nextDevice)return!1;window.wp.customize.previewedDevice(nextDevice),setDevice(nextDevice)})(slug)},title)}))),react.createElement(components_BuilderHeaderNotification,{builder,builderName}))},components_ResponsiveSwitches=ResponsiveSwitches;try{ResponsiveSwitches.displayName="ResponsiveSwitches",ResponsiveSwitches.__docgenInfo={description:"",displayName:"ResponsiveSwitches",props:{device:{defaultValue:null,description:"",name:"device",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/ResponsiveSwitches.tsx#ResponsiveSwitches"]={docgenInfo:ResponsiveSwitches.__docgenInfo,name:"ResponsiveSwitches",path:"assets/apps/customizer-controls/src/builder/components/ResponsiveSwitches.tsx#ResponsiveSwitches"})}catch(__react_docgen_typescript_loader_error){}const Builder=({value,hidden,portalMount})=>{const{device,builder,hasColumns}=(0,react.useContext)(BuilderContext.A),{rows}=window.NeveReactCustomize.HFG[builder],items={...value[device]},preview=document.querySelector("#customize-preview");(0,react.useEffect)((()=>()=>{null!==preview&&(preview.style.maxHeight="",preview.style.marginTop="")}),[]);const adaptPreviewHeight=(scroll=!1)=>{const builderNode=(null==portalMount?void 0:portalMount.querySelector(".neve-builder"))||null;if(null===builderNode||null===preview)return;if(hidden)return preview.style.maxHeight="",void(preview.style.marginTop="");const height=builderNode.offsetHeight;preview.style.maxHeight=`calc(100vh - ${height}px)`,preview.style.marginTop="0",scroll&&("footer"!==builder?setTimeout((()=>{window.wp.customize.previewer.send("scroll",0)}),150):setTimeout((()=>{window.wp.customize.previewer.send("scroll",1e8)}),150))};(0,react.useEffect)((()=>{setTimeout((()=>{adaptPreviewHeight(!0)}),100)}),[hidden]),(0,react.useEffect)((()=>{window.wp.customize.previewer.bind("selective-refresh-setting-validities",(()=>{adaptPreviewHeight()}))}),[hidden]);const builderClasses=classnames_default()("neve-builder",{hide:hidden,"columns-builder":hasColumns});return react.createElement("div",{className:builderClasses},react.createElement(components_ResponsiveSwitches,{device}),react.createElement("div",{className:"rows-wrapper"},rows.sidebar&&"desktop"!==device&&react.createElement("div",{className:"vertical-rows"},react.createElement(components_Row,{rowId:"sidebar",items:items.sidebar})),react.createElement("div",{className:"horizontal-rows"},Object.keys(rows).map(((rowId,rowIndex)=>"sidebar"===rowId?null:react.createElement(components_Row,{key:rowIndex,rowId,items:items[rowId]||[]}))))))},components_Builder=Builder;try{Builder.displayName="Builder",Builder.__docgenInfo={description:"",displayName:"Builder",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BuilderContentInterface"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}},portalMount:{defaultValue:null,description:"",name:"portalMount",required:!0,type:{name:"HTMLElement | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["assets/apps/customizer-controls/src/builder/components/Builder.tsx#Builder"]={docgenInfo:Builder.__docgenInfo,name:"Builder",path:"assets/apps/customizer-controls/src/builder/components/Builder.tsx#Builder"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/@wordpress/components/build-module/modal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Modal});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),use_instance_id=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-instance-id/index.js"),use_focus_on_mount=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-focus-on-mount/index.js"),use_constrained_tabbing=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-constrained-tabbing/index.js"),use_focus_return=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-focus-return/index.js"),use_focus_outside=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-focus-outside/index.js"),use_merge_refs=__webpack_require__("./node_modules/@wordpress/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("./node_modules/@wordpress/deprecated/build-module/index.js"),keycodes_build_module=__webpack_require__("./node_modules/@wordpress/keycodes/build-module/index.js"),i18n_build_module=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),close_small=__webpack_require__("./node_modules/@wordpress/icons/build-module/library/close-small.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js");const LIVE_REGION_ARIA_ROLES=new Set(["alert","status","log","marquee","timer"]);let hiddenElements=[],isHidden=!1;function hideApp(unhiddenElement){if(isHidden)return;const elements=document.body.children;(0,lodash.forEach)(elements,(element=>{element!==unhiddenElement&&function elementShouldBeHidden(element){const role=element.getAttribute("role");return!("SCRIPT"===element.tagName||element.hasAttribute("aria-hidden")||element.hasAttribute("aria-live")||LIVE_REGION_ARIA_ROLES.has(role))}(element)&&(element.setAttribute("aria-hidden","true"),hiddenElements.push(element))})),isHidden=!0}var build_module_button=__webpack_require__("./node_modules/@wordpress/components/build-module/button/index.js");let openModalCount=0;function Modal({bodyOpenClassName="modal-open",role="dialog",title=null,focusOnMount=!0,shouldCloseOnEsc=!0,shouldCloseOnClickOutside=!0,isDismissable,isDismissible=isDismissable||!0,aria={labelledby:null,describedby:null},onRequestClose,icon,closeButtonLabel,children,style,overlayClassName,className,contentLabel,onKeyDown}){const ref=(0,react.useRef)(),instanceId=(0,use_instance_id.A)(Modal),headingId=title?`components-modal-header-${instanceId}`:aria.labelledby,focusOnMountRef=(0,use_focus_on_mount.A)(focusOnMount),constrainedTabbingRef=(0,use_constrained_tabbing.A)(),focusReturnRef=(0,use_focus_return.A)(),focusOutsideProps=(0,use_focus_outside.A)(onRequestClose);return(0,react.useEffect)((()=>(openModalCount++,1===openModalCount&&(hideApp(ref.current),document.body.classList.add(bodyOpenClassName)),()=>{openModalCount--,0===openModalCount&&(document.body.classList.remove(bodyOpenClassName),function showApp(){isHidden&&((0,lodash.forEach)(hiddenElements,(element=>{element.removeAttribute("aria-hidden")})),hiddenElements=[],isHidden=!1)}())})),[]),isDismissable&&(0,build_module.A)("isDismissable prop of the Modal component",{since:"5.4",alternative:"isDismissible prop (renamed) of the Modal component"}),(0,react_dom.createPortal)((0,react.createElement)("div",{ref,className:classnames_default()("components-modal__screen-overlay",overlayClassName),onKeyDown:function handleEscapeKeyDown(event){shouldCloseOnEsc&&event.keyCode===keycodes_build_module._f&&!event.defaultPrevented&&(event.preventDefault(),onRequestClose&&onRequestClose(event))}},(0,react.createElement)("div",(0,esm_extends.A)({className:classnames_default()("components-modal__frame",className),style,ref:(0,use_merge_refs.A)([constrainedTabbingRef,focusReturnRef,focusOnMountRef]),role,"aria-label":contentLabel,"aria-labelledby":contentLabel?null:headingId,"aria-describedby":aria.describedby,tabIndex:"-1"},shouldCloseOnClickOutside?focusOutsideProps:{},{onKeyDown}),(0,react.createElement)("div",{className:"components-modal__content",role:"document"},(0,react.createElement)("div",{className:"components-modal__header"},(0,react.createElement)("div",{className:"components-modal__header-heading-container"},icon&&(0,react.createElement)("span",{className:"components-modal__icon-container","aria-hidden":!0},icon),title&&(0,react.createElement)("h1",{id:headingId,className:"components-modal__header-heading"},title)),isDismissible&&(0,react.createElement)(build_module_button.A,{onClick:onRequestClose,icon:close_small.A,label:closeButtonLabel||(0,i18n_build_module.__)("Close dialog")})),children))),document.body)}},"./node_modules/@wordpress/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}))},"./node_modules/@wordpress/icons/build-module/library/plus.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.t4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.wA,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}))}}]);