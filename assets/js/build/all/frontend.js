!function(){"use strict";function i(){return window.innerWidth<=960}function c(e,n){for(var t=0;t<e.length;t++)n(e[t])}function t(e){var n=e.split("#");return 1<n.length?n[0]:e}function r(e,n,t){for(var o=e instanceof NodeList?e:[e],i=0;i<o.length;i++)o[i]&&o[i].addEventListener(n,t)}function o(e,n){l(e,n,"toggle")}function e(){var e,n;u=window.location.href,g(),function(){var e=document.querySelectorAll(".nv-nav-wrap a");if(0===e.length)return;c(e,function(e){e.addEventListener("click",function(e){var n=e.target.getAttribute("href");if(null===n)return!1;t(n)===t(u)&&window.HFG.toggleMenuSidebar(!1)})})}(),e=document.querySelectorAll(".caret-wrap"),c(e,function(t){t.addEventListener("click",function(e){e.preventDefault();var n=t.parentNode.parentNode.querySelector(".sub-menu");o(t,"dropdown-open"),o(n,"dropdown-open")})}),h(),w(),!0===/(Trident|MSIE|Edge)/.test(window.navigator.userAgent)&&(n=document.querySelectorAll('.header--row[data-show-on="desktop"] .sub-menu'),c(n,function(e){var n=e.parentNode;n.addEventListener("mouseenter",function(){a(e,"dropdown-open")}),n.addEventListener("mouseleave",function(){d(e,"dropdown-open")})})),window.HFG.initSearch=function(){h()}}var u,a=function(e,n){l(e,n,"add")},d=function(e,n){l(e,n,"remove")},l=function(e,n,t){for(var o=n.split(" "),i=e instanceof NodeList?e:[e],r=0;r<i.length;r++)i[r]&&i[r].classList[t].apply(i[r].classList,o)},s=null,v=null,f=2,n=function(){return!("enabled"!==NeveProperties.masonry||NeveProperties.masonryColumns<2)&&(null!==(v=document.querySelector(".nv-index-posts .posts-wrapper"))&&void imagesLoaded(v,function(){s=new Masonry(v,{itemSelector:"article.layout-grid",columnWidth:"article.layout-grid",percentPosition:!0})}))},p=function(){return"enabled"===NeveProperties.infiniteScroll&&(null!==document.querySelector(".nv-index-posts .posts-wrapper")&&void function(e,n,t){var o=2<arguments.length&&void 0!==t?t:.5;new IntersectionObserver(function(e){e[0].intersectionRatio<=o||n()}).observe(e)}(document.querySelector(".infinite-scroll-trigger"),function(){if(parent.wp.customize)return parent.wp.customize.requestChangesetUpdate().then(function(){m()}),!1;m()}))},m=function(){var e=document.querySelector(".infinite-scroll-trigger");if(null===e)return!1;if(document.querySelector(".nv-loader").style.display="block",f>NeveProperties.infiniteScrollMaxPages)return e.parentNode.removeChild(e),!(document.querySelector(".nv-loader").style.display="none");var n,t,o,i,r=document.querySelector(".nv-index-posts .posts-wrapper"),u=y(NeveProperties.infiniteScrollEndpoint+f);f++,n=u,t=function(e){if("enabled"!==NeveProperties.masonry)r.innerHTML+=JSON.parse(e);else{var n=document.createElement("div");n.innerHTML=JSON.parse(e),c(n.children,function(e){v.append(e),s.appended(e)})}},o=NeveProperties.infiniteScrollQuery,(i=new XMLHttpRequest).onload=function(){4===i.readyState&&200===i.status&&t(i.response)},i.onerror=function(e){console.error(e)},i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.send(o)},y=function(e){return void 0===wp.customize?e:(e+="?customize_changeset_uuid="+wp.customize.settings.changeset.uuid+"&customize_autosaved=on","undefined"==typeof _wpCustomizeSettings?e:e+="&customize_preview_nonce="+_wpCustomizeSettings.nonce.preview)},g=function(){if(i())return!1;var e=document.querySelectorAll(".sub-menu .sub-menu");if(0===e.length)return!1;var o=window.innerWidth;c(e,function(e){var n=e.getBoundingClientRect(),t=n.left;/webkit.*mobile/i.test(navigator.userAgent)&&(n-=window.scrollX),t+n.width>=o&&(e.style.right="100%",e.style.left="auto")})};function h(){var e=document.querySelectorAll(".nv-nav-search"),t=document.querySelectorAll(".menu-item-nav-search"),n=document.querySelectorAll(".close-responsive-search");document.querySelector("html");c(t,function(n){n.addEventListener("click",function(e){e.stopPropagation(),o(n,"active"),n.querySelector(".search-field").focus(),i()||function(e,n){var t=document.querySelector(".nav-clickaway-overlay");if(null!==t)return;t=document.createElement("div"),a(t,"nav-clickaway-overlay");var o=document.querySelector("header.header");o.parentNode.insertBefore(t,o),t.addEventListener("click",function(){d(e,n),t.parentNode.removeChild(t)})}(n,"active")})}),c(e,function(e){e.addEventListener("click",function(e){e.stopPropagation()})}),c(n,function(e){e.addEventListener("click",function(e){e.preventDefault(),c(t,function(e){d(e,"active")});var n=document.querySelector(".nav-clickaway-overlay");null!==n&&n.parentNode.removeChild(n)})})}function w(){var e=document.querySelectorAll(".header--row .nv-nav-cart");0!==e.length&&c(e,function(e){e.getBoundingClientRect().left<0&&(e.style.left=0)})}window.addEventListener("resize",w);function S(){this.options={menuToggleDuration:300},this.init()}var b;function q(){window.HFG=new S,function(){if(null===document.querySelector(".blog.nv-index-posts"))return;n(),p()}(),e()}function L(){g()}S.prototype.init=function(){var e=".menu-mobile-toggle";!1===(0<arguments.length&&void 0!==arguments[0]&&arguments[0])&&(e+=", #header-menu-sidebar .close-panel, .close-sidebar-panel");function n(e){e.preventDefault(),this.toggleMenuSidebar()}var t=document.querySelectorAll(e);c(t,function(e){e.removeEventListener("click",n.bind(this))}.bind(this)),r(t,"click",n.bind(this));var o=document.querySelector(".header-menu-sidebar-overlay");r(o,"click",function(){this.toggleMenuSidebar(!1)}.bind(this))},S.prototype.toggleMenuSidebar=function(e){var n=document.querySelectorAll(".menu-mobile-toggle");d(document.body,"hiding-header-menu-sidebar"),document.body.classList.contains("is-menu-sidebar")||!1===e?(a(document.body,"hiding-header-menu-sidebar"),d(document.body,"is-menu-sidebar"),d(n,"is-active"),setTimeout(function(){d(document.body,"hiding-header-menu-sidebar")}.bind(this),1e3)):(a(document.body,"is-menu-sidebar"),a(n,"is-active"))},window.addEventListener("load",function(){q()}),window.addEventListener("resize",function(){clearTimeout(b),b=setTimeout(L,500)})}();
